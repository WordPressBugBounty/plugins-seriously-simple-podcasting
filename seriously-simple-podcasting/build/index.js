!function(){var e={184:function(e,t){var s;!function(){"use strict";var a={}.hasOwnProperty;function l(){for(var e=[],t=0;t<arguments.length;t++){var s=arguments[t];if(s){var o=typeof s;if("string"===o||"number"===o)e.push(s);else if(Array.isArray(s)&&s.length){var i=l.apply(null,s);i&&e.push(i)}else if("object"===o)for(var n in s)a.call(s,n)&&s[n]&&e.push(n)}}return e.join(" ")}e.exports?(l.default=l,e.exports=l):void 0===(s=function(){return l}.apply(t,[]))||(e.exports=s)}()},573:function(e){"use strict";var t=/["'&<>]/;e.exports=function(e){var s,a=""+e,l=t.exec(a);if(!l)return a;var o="",i=0,n=0;for(i=l.index;i<a.length;i++){switch(a.charCodeAt(i)){case 34:s="&quot;";break;case 38:s="&amp;";break;case 39:s="&#39;";break;case 60:s="&lt;";break;case 62:s="&gt;";break;default:continue}n!==i&&(o+=a.substring(n,i)),n=i+1,o+=s}return n!==i?o+a.substring(n,i):o}}},t={};function s(a){var l=t[a];if(void 0!==l)return l.exports;var o=t[a]={exports:{}};return e[a](o,o.exports,s),o.exports}s.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(t,{a:t}),t},s.d=function(e,t){for(var a in t)s.o(t,a)&&!s.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},s.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},function(){"use strict";var e={};s.r(e);var t=window.wp.element,a=window.wp.i18n,l=window.wp.blocks,o=window.wp.plugins,i=window.wp.blockEditor,n=window.wp.components,r=window.wp.apiFetch,c=s.n(r);class d extends t.Component{render(){const{className:e,episodeRef:s,episodeId:a,episodes:l,activateEpisode:o}=this.props;return(0,t.createElement)("div",{className:e},"Select podcast Episode",(0,t.createElement)("select",{ref:s,className:"castos-select",defaultValue:a},l.map(((e,s)=>(0,t.createElement)("option",{key:e.id,value:e.id},e.title)))),(0,t.createElement)("button",{className:"button",onClick:o},"Go"))}}var p=d,u=window.React,m=s.n(u),g=s(573),M=s.n(g);function y(){return y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},y.apply(this,arguments)}function N(e,t){if(null==e)return{};var s,a,l={},o=Object.keys(e);for(a=0;a<o.length;a++)s=o[a],t.indexOf(s)>=0||(l[s]=e[s]);return l}function E(e){var t=e.attributes,s=void 0===t?{}:t,a=e.children,l=void 0===a?null:a,o=e.selfClose,i=void 0!==o&&o,n=e.tagName;return i?m().createElement(n,s):m().createElement(n,s,l)}var h=function(){function e(){}var t=e.prototype;return t.attribute=function(e,t){return t},t.node=function(e,t){return t},e}(),D=/(url|image|image-set)\(/i,_=function(e){var t,s;function a(){return e.apply(this,arguments)||this}return s=e,(t=a).prototype=Object.create(s.prototype),t.prototype.constructor=t,t.__proto__=s,a.prototype.attribute=function(e,t){return"style"===e&&Object.keys(t).forEach((function(e){String(t[e]).match(D)&&delete t[e]})),t},a}(h),b={a:{content:9,self:!1,type:105},address:{invalid:["h1","h2","h3","h4","h5","h6","address","article","aside","section","div","header","footer"],self:!1},audio:{children:["track","source"]},br:{type:9,void:!0},body:{content:127},button:{content:8,type:105},caption:{content:1,parent:["table"]},col:{parent:["colgroup"],void:!0},colgroup:{children:["col"],parent:["table"]},details:{children:["summary"],type:97},dd:{content:1,parent:["dl"]},dl:{children:["dt","dd"],type:1},dt:{content:1,invalid:["footer","header"],parent:["dl"]},figcaption:{content:1,parent:["figure"]},footer:{invalid:["footer","header"]},header:{invalid:["footer","header"]},hr:{type:1,void:!0},img:{void:!0},li:{content:1,parent:["ul","ol","menu"]},main:{self:!1},ol:{children:["li"],type:1},picture:{children:["source","img"],type:25},rb:{parent:["ruby","rtc"]},rp:{parent:["ruby","rtc"]},rt:{content:8,parent:["ruby","rtc"]},rtc:{content:8,parent:["ruby"]},ruby:{children:["rb","rp","rt","rtc"]},source:{parent:["audio","video","picture"],void:!0},summary:{content:8,parent:["details"]},table:{children:["caption","colgroup","thead","tbody","tfoot","tr"],type:1},tbody:{parent:["table"],children:["tr"]},td:{content:1,parent:["tr"]},tfoot:{parent:["table"],children:["tr"]},th:{content:1,parent:["tr"]},thead:{parent:["table"],children:["tr"]},tr:{parent:["table","tbody","thead","tfoot"],children:["th","td"]},track:{parent:["audio","video"],void:!0},ul:{children:["li"],type:1},video:{children:["track","source"]},wbr:{type:9,void:!0}};function I(e){return function(t){b[t]=y({},e,b[t])}}["address","main","div","figure","p","pre"].forEach(I({content:1,type:65})),["abbr","b","bdi","bdo","cite","code","data","dfn","em","i","kbd","mark","q","ruby","samp","strong","sub","sup","time","u","var"].forEach(I({content:8,type:73})),["p","pre"].forEach(I({content:8,type:65})),["s","small","span","del","ins"].forEach(I({content:8,type:9})),["article","aside","footer","header","nav","section","blockquote"].forEach(I({content:1,type:67})),["h1","h2","h3","h4","h5","h6"].forEach(I({content:8,type:69})),["audio","canvas","iframe","img","video"].forEach(I({type:89}));var T,A=Object.freeze(b),v=["applet","base","body","command","embed","frame","frameset","head","html","link","meta","noscript","object","script","style","title"],x=Object.keys(A).filter((function(e){return"canvas"!==e&&"iframe"!==e})),j=Object.freeze({alt:1,cite:1,class:1,colspan:3,controls:4,datetime:1,default:4,disabled:4,dir:1,height:1,href:1,id:1,kind:1,label:1,lang:1,loading:1,loop:4,media:1,muted:4,poster:1,role:1,rowspan:3,scope:1,sizes:1,span:3,start:3,style:5,src:1,srclang:1,srcset:1,target:1,title:1,type:1,width:1}),S=Object.freeze({class:"className",colspan:"colSpan",datetime:"dateTime",rowspan:"rowSpan",srclang:"srcLang",srcset:"srcSet"}),f=/^<(!doctype|(html|head|body)(\s|>))/i,w=/^(aria\x2D|data\x2D|[0-9A-Z_a-z\u017F\u212A]+:)/i,z=/{{{(\w+)\/?}}}/;function C(){if("undefined"!=typeof window&&"undefined"!=typeof document)return document.implementation.createHTMLDocument("Interweave")}(T=function(e,t,s,a){void 0===t&&(t={}),void 0===s&&(s=[]),void 0===a&&(a=[]),this.allowed=void 0,this.banned=void 0,this.blocked=void 0,this.container=void 0,this.content=[],this.props=void 0,this.matchers=void 0,this.filters=void 0,this.keyIndex=void 0,this.props=t,this.matchers=s,this.filters=[].concat(a,[new _]),this.keyIndex=-1,this.container=this.createContainer(e||""),this.allowed=new Set(t.allowList||x),this.banned=new Set(v),this.blocked=new Set(t.blockList)}.prototype).applyAttributeFilters=function(e,t){return this.filters.reduce((function(t,s){return null!==t&&"function"==typeof s.attribute?s.attribute(e,t):t}),t)},T.applyNodeFilters=function(e,t){return this.filters.reduce((function(t,s){return null!==t&&"function"==typeof s.node?s.node(e,t):t}),t)},T.applyMatchers=function(e,t){var s=this,a={},l=this.props,o=e,i=0,n=null;return this.matchers.forEach((function(e){var r=e.asTag().toLowerCase(),c=s.getTagConfig(r);if(!l[e.inverseName]&&s.isTagAllowed(r)&&s.canRenderChild(t,c)){for(var d="";o&&(n=e.match(o));){var p=n,u=p.index,m=p.length,g=p.match,M=p.valid,E=p.void,h=N(p,["index","length","match","valid","void"]),D=e.propName+i;u>0&&(d+=o.slice(0,u)),M?(d+=E?"{{{"+D+"/}}}":"{{{"+D+"}}}"+g+"{{{/"+D+"}}}",s.keyIndex+=1,i+=1,a[D]={children:g,matcher:e,props:y({},l,h,{key:s.keyIndex})}):d+=g,e.greedy?(o=d+o.slice(u+m),d=""):o=o.slice(u+(m||g.length))}e.greedy||(o=d+o)}})),0===i?e:this.replaceTokens(o,a)},T.canRenderChild=function(e,t){return!(!e.tagName||!t.tagName)&&!e.void&&(e.children.length>0?e.children.includes(t.tagName):!(e.invalid.length>0&&e.invalid.includes(t.tagName))&&(t.parent.length>0?t.parent.includes(e.tagName):!(!e.self&&e.tagName===t.tagName)&&Boolean(e&&e.content&t.type)))},T.convertLineBreaks=function(e){var t=this.props,s=t.noHtml,a=t.disableLineBreaks;if(s||a||e.match(/<((?:\/[ a-z]+)|(?:[ a-z]+\/))>/gi))return e;var l=e.replace(/\r\n/g,"\n");return(l=l.replace(/\n{3,}/g,"\n\n\n")).replace(/\n/g,"<br/>")},T.createContainer=function(e){var t=(s.g.INTERWEAVE_SSR_POLYFILL||C)();if(t){var a=this.props.containerTagName||"body",l="body"===a||"fragment"===a?t.body:t.createElement(a);return e.match(f)||(l.innerHTML=this.convertLineBreaks(this.props.escapeHtml?M()(e):e)),l}},T.extractAttributes=function(e){var t=this,s=this.props.allowAttributes,a={},l=0;return 1===e.nodeType&&e.attributes?(Array.from(e.attributes).forEach((function(o){var i=o.name,n=o.value,r=i.toLowerCase(),c=j[r]||j[i];if(t.isSafe(e)&&(r.match(w)||(s||c&&2!==c)&&!r.match(/^on/)&&!n.replace(/(\s|\0|&#x0([9AD]);)/,"").match(/(javascript|vbscript|livescript|xss):/i))){var d="style"===r?t.extractStyleAttribute(e):n;4===c?d=!0:3===c?d=Number.parseFloat(String(d)):5!==c&&(d=String(d)),a[S[r]||r]=t.applyAttributeFilters(r,d),l+=1}})),0===l?null:a):null},T.extractStyleAttribute=function(e){var t={};return Array.from(e.style).forEach((function(s){var a=e.style[s];"string"!=typeof a&&"number"!=typeof a||(t[s.replace(/-([a-z])/g,(function(e,t){return t.toUpperCase()}))]=a)})),t},T.getTagConfig=function(e){var t={children:[],content:0,invalid:[],parent:[],self:!0,tagName:"",type:0,void:!1};return A[e]?y({},t,A[e],{tagName:e}):t},T.isSafe=function(e){if("undefined"!=typeof HTMLAnchorElement&&e instanceof HTMLAnchorElement){var t=e.getAttribute("href");if(t&&"#"===t.charAt(0))return!0;var s=e.protocol.toLowerCase();return":"===s||"http:"===s||"https:"===s||"mailto:"===s||"tel:"===s}return!0},T.isTagAllowed=function(e){return!this.banned.has(e)&&!this.blocked.has(e)&&(this.props.allowElements||this.allowed.has(e))},T.parse=function(){return this.container?this.parseNode(this.container,this.getTagConfig(this.container.nodeName.toLowerCase())):[]},T.parseNode=function(e,t){var s=this,a=this.props,l=a.noHtml,o=a.noHtmlExceptMatchers,i=a.allowElements,n=a.transform,r=[],c="";return Array.from(e.childNodes).forEach((function(e){if(1===e.nodeType){var a=e.nodeName.toLowerCase(),d=s.getTagConfig(a);c&&(r.push(c),c="");var p,u=s.applyNodeFilters(a,e);if(!u)return;if(n){s.keyIndex+=1;var g=s.keyIndex;p=s.parseNode(u,d);var M=n(u,p,d);if(null===M)return;if(void 0!==M)return void r.push(m().cloneElement(M,{key:g}));s.keyIndex=g-1}if(s.banned.has(a))return;if(l||o&&"br"!==a||!s.isTagAllowed(a)||!i&&!s.canRenderChild(t,d))r=r.concat(s.parseNode(u,d.tagName?d:t));else{s.keyIndex+=1;var N=s.extractAttributes(u),h={tagName:a};N&&(h.attributes=N),d.void&&(h.selfClose=d.void),r.push(m().createElement(E,y({},h,{key:s.keyIndex}),p||s.parseNode(u,d)))}}else if(3===e.nodeType){var D=l&&!o?e.textContent:s.applyMatchers(e.textContent||"",t);Array.isArray(D)?r=r.concat(D):c+=D}})),c&&r.push(c),r},T.replaceTokens=function(e,t){if(!e.includes("{{{"))return e;for(var s=[],a=e,l=null;l=a.match(z);){var o=l,i=o[0],n=o[1],r=l.index,c=i.includes("/");r>0&&(s.push(a.slice(0,r)),a=a.slice(r));var d=t[n],p=d.children,u=d.matcher,m=d.props,g=void 0;if(c)g=i.length,s.push(u.createElement(p,m));else{var M=a.match(new RegExp("{{{/"+n+"}}}"));g=M.index+M[0].length,s.push(u.createElement(this.replaceTokens(a.slice(i.length,M.index),t),m))}a=a.slice(g)}return a.length>0&&s.push(a),0===s.length?"":1===s.length&&"string"==typeof s[0]?s[0]:s},function(){var e=function(e,t,s){this.greedy=!1,this.options=void 0,this.propName=void 0,this.inverseName=void 0,this.factory=void 0,this.options=y({},t),this.propName=e,this.inverseName="no"+(e.charAt(0).toUpperCase()+e.slice(1)),this.factory=s||null}.prototype;e.createElement=function(e,t){return this.factory?m().createElement(this.factory,t,e):this.replaceWith(e,t)},e.doMatch=function(e,t,s,a){return void 0===a&&(a=!1),function(e,t,s,a){void 0===a&&(a=!1);var l=e.match(t instanceof RegExp?t:new RegExp(t,"i"));return l?y({match:l[0],void:a},s(l),{index:l.index,length:l[0].length,valid:!0}):null}(e,t,s,a)},e.onBeforeParse=function(e,t){return e},e.onAfterParse=function(e,t){return e}}();class k extends t.Component{render(){return(0,t.createElement)("p",{className:this.props.className},(0,t.createElement)(e.Interweave,{content:this.props.audioPlayer}))}}var O=k;class L extends t.Component{constructor(e){let{attributes:t,setAttributes:s,className:a}=e;super(...arguments),this.episodeRef=React.createRef();let l=!0;t.audio_player&&(l=!1);const o={audioPlayer:t.audio_player||""};this.state={className:a,editing:l,episode:o,episodes:[],setAttributes:s}}componentDidMount(){c()({path:"ssp/v1/episodes"}).then((e=>{let t=[];Object.keys(e).map((function(s){let a={id:e[s].id,title:e[s].title.rendered};t.push(a)})),this.setState({episodes:t})}))}render(){const{editing:e,episodes:s,episode:l,className:o,setAttributes:r}=this.state,d=(0,t.createElement)(i.BlockControls,{key:"controls"},(0,t.createElement)(n.Toolbar,null,(0,t.createElement)(n.Button,{className:"components-icon-button components-toolbar__control",label:(0,a.__)("Select Podcast","seriously-simple-podcasting"),onClick:()=>{this.setState({editing:!0})},icon:"edit"})));return e?(0,t.createElement)(p,{className:o,episodeRef:this.episodeRef,episodes:s,activateEpisode:()=>{const e=this.episodeRef.current.value,t="ssp/v1/audio_player?ssp_podcast_id="+e;c()({path:t}).then((t=>{const s={episodeId:e,audioPlayer:t.audio_player};this.setState({episode:s,editing:!1}),r({id:e,audio_player:s.audioPlayer})}))}}):[d,(0,t.createElement)(O,{className:o,audioPlayer:l.audioPlayer})]}}var P=L,U=s(184),Q=s.n(U);class Y extends t.Component{render(){const{className:e,episodeId:s,episodeTitle:a,episodeFileUrl:l,episodeData:o}=this.props,{rssFeedUrl:i,subscribeUrls:n,embedCode:r}=o,c=[];return Object.keys(n).forEach(((e,s)=>{const a=n[e].url;if(""!==a){const s=n[e].key,l=n[e].label,o="Subscribe on "+n[e].label;c.push((0,t.createElement)("a",{key:e,href:a,target:"_blank",className:s,title:o,rel:"noopener noreferrer"},(0,t.createElement)("span",null),l))}})),(0,t.createElement)("div",{className:"player-panels player-panels-"+s},(0,t.createElement)("div",{className:"subscribe player-panel subscribe-"+s},(0,t.createElement)("div",{className:"close-btn close-btn-"+s},(0,t.createElement)("span",null),(0,t.createElement)("span",null)),(0,t.createElement)("div",{className:"panel__inner"},(0,t.createElement)("div",{className:"subscribe-icons"},c),(0,t.createElement)("div",{className:"player-panel-row"},(0,t.createElement)("div",{className:"title"},"RSS Feed"),(0,t.createElement)("div",null,(0,t.createElement)("input",{readOnly:!0,value:i,className:"input-rss input-rss-"+s})),(0,t.createElement)("button",{className:"copy-rss copy-rss-"+s})))),(0,t.createElement)("div",{className:"share share-"+s+" player-panel"},(0,t.createElement)("div",{className:"close-btn close-btn-"+s},(0,t.createElement)("span",null),(0,t.createElement)("span",null)),(0,t.createElement)("div",{className:"player-panel-row"},(0,t.createElement)("div",{className:"title"},"Share"),(0,t.createElement)("div",{className:"icons-holder"},(0,t.createElement)("a",{href:"https://www.facebook.com/sharer/sharer.php?u="+l+"&t="+a,target:"_blank",className:"share-icon facebook",title:"Share on Facebook",rel:"noopener noreferrer"},(0,t.createElement)("span",null)),(0,t.createElement)("a",{href:"https://twitter.com/intent/tweet?text="+l+"&url="+a,target:"_blank",className:"share-icon twitter",title:"Share on Twitter",rel:"noopener noreferrer"},(0,t.createElement)("span",null)),(0,t.createElement)("a",{href:l,target:"_blank",className:"share-icon download",title:"Download",rel:"noopener noreferrer"},(0,t.createElement)("span",null)))),(0,t.createElement)("div",{className:"player-panel-row"},(0,t.createElement)("div",{className:"title"},"Link"),(0,t.createElement)("div",null,(0,t.createElement)("input",{readOnly:!0,value:l,className:"input-link input-link-"+s})),(0,t.createElement)("button",{className:"copy-link copy-link-"+s})),(0,t.createElement)("div",{className:"player-panel-row"},(0,t.createElement)("div",{className:"title"},"Embed"),(0,t.createElement)("div",{style:{height:"10px"}},(0,t.createElement)("input",{readOnly:!0,value:r,className:"input-embed input-embed-"+s})),(0,t.createElement)("button",{className:"copy-embed copy-embed-"+s}))))}}var F=Y;class B extends t.Component{render(){try{const{className:e,episodeId:s,episodeImage:a,episodeTitle:l,episodeFileUrl:o,episodeDuration:i,episodeData:n}=this.props,{playerMode:r}=n,c=Q()(e,"castos-player",r+"-mode"),d={background:"url("+a+") center center no-repeat",WebkitBackgroundSize:"cover",backgroundSize:"cover"},p="player__artwork player__artwork-"+s,u="play-btn play-btn-"+s,m="pause-btn pause-btn-"+s+" hide",g="/wp-content/plugins/seriously-simple-podcasting/assets/css/images/player/images/icon-loader.svg",M="loader loader-"+s+" hide",y="clip clip-"+s,N="ssp-progress progress-"+s,E="progress__filled progress__filled-"+s,h="playback playback-"+s,D="player-btn__volume player-btn__volume-"+s,_="player-btn__speed player-btn__speed-"+s,b="timer-"+s,I="duration-"+s,T="subscribe-btn-"+s,A="share-btn-"+s;return(0,t.createElement)("div",{className:c,"data-episode":s},(0,t.createElement)("div",{className:"player"},(0,t.createElement)("div",{className:"player__main"},(0,t.createElement)("div",{className:p,style:d}),(0,t.createElement)("div",{className:"player__body"},(0,t.createElement)("div",{className:"currently-playing"},(0,t.createElement)("div",{className:"show"},(0,t.createElement)("strong",null,l)),(0,t.createElement)("div",{className:"episode-title"},l)),(0,t.createElement)("div",{className:"play-progress"},(0,t.createElement)("div",{className:"play-pause-controls"},(0,t.createElement)("button",{title:"Play",className:u},(0,t.createElement)("span",{className:"screen-reader-text"},"Play Episode")),(0,t.createElement)("button",{alt:"Pause",className:m},(0,t.createElement)("span",{className:"screen-reader-text"},"Pause Episode")),(0,t.createElement)("img",{src:g,className:M})),(0,t.createElement)("div",null,(0,t.createElement)("audio",{preload:"none",className:y},(0,t.createElement)("source",{loop:!0,preload:"none",src:o})),(0,t.createElement)("div",{className:N,title:"Seek"},(0,t.createElement)("span",{className:E})),(0,t.createElement)("div",{className:h},(0,t.createElement)("div",{className:"playback__controls"},(0,t.createElement)("button",{className:D,title:"Mute/Unmute"},(0,t.createElement)("span",{className:"screen-reader-text"},"Mute/Unmute Episode")),(0,t.createElement)("button",{"data-skip":"-10",className:"player-btn__rwd",title:"Rewind 10 seconds"},(0,t.createElement)("span",{className:"screen-reader-text"},"Rewind 10 Seconds")),(0,t.createElement)("button",{"data-speed":"1",className:_,title:"Playback Speed"},"1x"),(0,t.createElement)("button",{"data-skip":"30",className:"player-btn__fwd",title:"Fast Forward 30 seconds"},(0,t.createElement)("span",{className:"screen-reader-text"},"Fast Forward 30 seconds"))),(0,t.createElement)("div",{className:"playback__timers"},(0,t.createElement)("time",{id:b},"00:00"),(0,t.createElement)("span",null,"/"),(0,t.createElement)("time",{id:I},i))))),(0,t.createElement)("nav",{className:"player-panels-nav"},(0,t.createElement)("button",{className:"subscribe-btn",id:T,title:"Subscribe"},"Subscribe"),(0,t.createElement)("button",{className:"share-btn",id:A,title:"Share"},"Share"))))),(0,t.createElement)(F,{className:e,episodeId:s,episodeTitle:l,episodeFileUrl:o,episodeData:n}))}catch(e){console.log("Error:",e),this.state={error:e}}}}var R=B;class Z extends t.Component{constructor(e){let{attributes:t,setAttributes:s,className:a}=e;super(...arguments),this.episodeRef=React.createRef();const l={episodeImage:t.image||"",episodeFileUrl:t.file||"",episodeTitle:t.title||"",episodeDuration:t.duration||"",episodeDownloadUrl:t.download||"",episodeData:t.episode_data||""};let o=!0;t.title&&(o=!1),this.state={editing:o,className:a,episodes:[],episode:l,setAttributes:s}}componentDidMount(){c()({path:"ssp/v1/episodes"}).then((e=>{let t=[];Object.keys(e).map((function(s){let a={id:e[s].id,title:e[s].title.rendered};t.push(a)})),this.setState({episodes:t})}))}render(){const{editing:e,episodes:s,episode:l,className:o,setAttributes:r}=this.state,d=(0,t.createElement)(i.BlockControls,{key:"controls"},(0,t.createElement)(n.Toolbar,null,(0,t.createElement)(n.Button,{className:"components-icon-button components-toolbar__control",label:(0,a.__)("Select Podcast","seriously-simple-podcasting"),onClick:()=>{this.setState({editing:!0})},icon:"edit"})));return e?(0,t.createElement)(p,{className:o,episodeRef:this.episodeRef,episodes:s,activateEpisode:()=>{const e=this.episodeRef.current.value;let t="ssp/v1/episodes?include="+e;c()({path:t}).then((t=>{const s={episodeId:e,episodeImage:t[0].episode_player_image,episodeFileUrl:t[0].player_link,episodeTitle:t[0].title.rendered,episodeDuration:t[0].meta.duration,episodeDownloadUrl:t[0].download_link,episodeData:t[0].episode_data};this.setState({key:e,episode:s,editing:!1}),r({id:e,image:s.episodeImage,file:s.episodeFileUrl,title:s.episodeTitle,duration:s.episodeDuration,download:s.episodeDownloadUrl,episode_data:s.episodeData})}))}}):[d,(0,t.createElement)(R,{key:"castos-player",className:this.state.className,episodeId:l.episodeId,episodeImage:l.episodeImage,episodeTitle:l.episodeTitle,episodeFileUrl:l.episodeFileUrl,episodeDuration:l.episodeDuration,episodeData:l.episodeData})]}}var W=Z,H=window.wp.serverSideRender,J=s.n(H);class G extends t.Component{constructor(e){let{attributes:t,setAttributes:s,className:a}=e;super(...arguments),this.episodeRef=React.createRef();let l=!0;t.episodeId&&(l=!1),this.state={editing:l,className:a,episodes:[],setAttributes:s,episodeId:t.episodeId}}componentDidMount(){this._isMounted=!0,c()({path:"ssp/v1/episodes?per_page=500&get_additional_options=true"}).then((e=>{let t=[];Object.keys(e).map((function(s){let a={id:e[s].id,title:e[s].title.rendered};t.push(a)})),this.setState({episodes:t})}))}componentWillUnmount(){this._isMounted=!1}render(){const{editing:e,episodes:s,episodeId:l,className:o,setAttributes:r}=this.state,c=(0,t.createElement)(i.BlockControls,{key:"controls"},(0,t.createElement)(n.Toolbar,null,(0,t.createElement)(n.Button,{className:"components-icon-button components-toolbar__control",label:(0,a.__)("Select Podcast","seriously-simple-podcasting"),onClick:()=>{this.setState({editing:!0})},icon:"edit"})));return e?(0,t.createElement)(p,{className:o,episodeRef:this.episodeRef,episodes:s,activateEpisode:()=>{let e=this.episodeRef.current.value;this.setState({episodeId:e,editing:!1}),r({episodeId:e})}}):[c,(0,t.createElement)(J(),{className:o,key:"castos-player",block:"seriously-simple-podcasting/castos-html-player",attributes:{episodeId:l}})]}}var V=G;class X extends t.Component{constructor(e){let{className:t}=e;super(...arguments),this.state={className:t,episodes:[]}}render(){const{className:e}=this.state,{attributes:s,setAttributes:l}=this.props,{showTitle:o,featuredImage:r,featuredImageSize:c,excerpt:d,player:p,playerBelowExcerpt:u,availablePodcasts:m,postsPerPage:g,availableImageSizes:M,orderBy:y,order:N,columnsPerRow:E,titleSize:h,titleUnderImage:D,defaultPodcastId:_}=s;let{selectedPodcast:b}=s;b="0"===b?_:b;const I=(0,t.createElement)(i.InspectorControls,{key:"inspector-controls"},(0,t.createElement)("div",{className:"ssp-controls ssp-edit-podcast-list"},(0,t.createElement)(n.PanelBody,{key:"podcast-list-content",title:(0,a.__)("Content","seriously-simple-podcasting")},(0,t.createElement)(n.PanelRow,null,(0,t.createElement)("label",{htmlFor:"ssp-podcast-list-show-title"},(0,a.__)("Show Title","seriously-simple-podcasting")),(0,t.createElement)(n.FormToggle,{id:"ssp-podcast-list-show-title",label:(0,a.__)("Show Title","seriously-simple-podcasting"),checked:o,onChange:()=>{l({showTitle:!o})}})),(0,t.createElement)(n.PanelRow,null,(0,t.createElement)("label",{htmlFor:"ssp-podcast-list-show-featured-image"},(0,a.__)("Show Featured Image","seriously-simple-podcasting")),(0,t.createElement)(n.FormToggle,{id:"ssp-podcast-list-show-featured-image",label:(0,a.__)("Show Featured Image","seriously-simple-podcasting"),checked:r,onChange:()=>{l({featuredImage:!r})}})),r&&(0,t.createElement)(n.PanelRow,null,(0,t.createElement)("label",{htmlFor:"ssp-podcast-list-image-size"},(0,a.__)("Featured Image Size","seriously-simple-podcasting")),(0,t.createElement)(n.SelectControl,{id:"ssp-podcast-list-image-size",value:c,options:M,onChange:e=>{l({featuredImageSize:e})}})),(0,t.createElement)(n.PanelRow,null,(0,t.createElement)("label",{htmlFor:"ssp-podcast-list-show-player"},(0,a.__)("Show Podcast Player","seriously-simple-podcasting")),(0,t.createElement)(n.FormToggle,{id:"ssp-podcast-list-show-player",label:(0,a.__)("Show Podcast Player","seriously-simple-podcasting"),checked:p,onChange:()=>{l({player:!p})}})),(0,t.createElement)(n.PanelRow,null,(0,t.createElement)("label",{htmlFor:"ssp-podcast-list-show-excerpt"},(0,a.__)("Show Podcast Excerpt","seriously-simple-podcasting")),(0,t.createElement)(n.FormToggle,{id:"ssp-podcast-list-show-excerpt",label:(0,a.__)("Show Podcast Excerpt","seriously-simple-podcasting"),checked:d,onChange:()=>{l({excerpt:!d})}}))),(0,t.createElement)(n.PanelBody,{key:"ssp-podcast-list-query",title:(0,a.__)("Query","seriously-simple-podcasting")},(0,t.createElement)(n.PanelRow,null,(0,t.createElement)("label",{htmlFor:"ssp-podcast-list-podcast"},(0,a.__)("Select Podcast","seriously-simple-podcasting")),(0,t.createElement)(n.SelectControl,{id:"ssp-podcast-list-podcast",value:b,options:m,onChange:e=>{l({selectedPodcast:e})}})),(0,t.createElement)(n.PanelRow,null,(0,t.createElement)("label",{htmlFor:"ssp-podcast-list-posts-per-page"},(0,a.__)("Posts Per Page","seriously-simple-podcasting"),(0,t.createElement)(n.Tooltip,{text:(0,a.__)("For the default global settings, use 0","seriously-simple-podcasting"),htmlFor:"ssp-podcast-list-posts-per-page"},(0,t.createElement)("span",{className:"dashicon dashicons dashicons-info"}))),(0,t.createElement)(n.__experimentalNumberControl,{id:"ssp-podcast-list-posts-per-page",value:g,min:0,onChange:e=>{l({postsPerPage:e})}})),(0,t.createElement)(n.PanelRow,null,(0,t.createElement)("label",{htmlFor:"ssp-podcast-list-order-by"},(0,a.__)("Order By","seriously-simple-podcasting")),(0,t.createElement)(n.SelectControl,{id:"ssp-podcast-list-order-by",value:y,options:[{label:(0,a.__)("Date","seriously-simple-podcasting"),value:"date"},{label:(0,a.__)("ID","seriously-simple-podcasting"),value:"ID"},{label:(0,a.__)("Title","seriously-simple-podcasting"),value:"title"},{label:(0,a.__)("Recorded Date","seriously-simple-podcasting"),value:"recorded"}],onChange:e=>{l({orderBy:e})}})),(0,t.createElement)(n.PanelRow,null,(0,t.createElement)("label",{htmlFor:"ssp-podcast-list-order"},(0,a.__)("Order","seriously-simple-podcasting")),(0,t.createElement)(n.SelectControl,{id:"ssp-podcast-list-order",value:N,options:[{label:"ASC",value:"asc"},{label:"DESC",value:"desc"}],onChange:e=>{l({order:e})}}))),(0,t.createElement)(n.PanelBody,{key:"ssp-podcast-list-style",title:(0,a.__)("Style","seriously-simple-podcasting")},(0,t.createElement)(n.PanelRow,null,(0,t.createElement)("label",{htmlFor:"ssp-podcast-list-columns-per-row"},(0,a.__)("Columns per row","seriously-simple-podcasting")),(0,t.createElement)(n.__experimentalNumberControl,{id:"ssp-podcast-list-columns-per-row",value:E,min:1,max:6,onChange:e=>{l({columnsPerRow:e})}})),o&&(0,t.createElement)(n.PanelRow,null,(0,t.createElement)("label",{htmlFor:"ssp-podcast-list-title-size"},(0,a.__)("Title Size","seriously-simple-podcasting")),(0,t.createElement)(n.__experimentalNumberControl,{id:"ssp-podcast-list-title-size",value:h,min:8,max:40,onChange:e=>{l({titleSize:e})}})),o&&r&&(0,t.createElement)(n.PanelRow,null,(0,t.createElement)("label",{htmlFor:"ssp-podcast-list-title-under-image"},(0,a.__)("Show Title Under Image","seriously-simple-podcasting")),(0,t.createElement)(n.FormToggle,{id:"ssp-podcast-list-title-under",label:(0,a.__)("Show Title Under Image","seriously-simple-podcasting"),checked:D,onChange:()=>{l({titleUnderImage:!D})}})),p&&d&&(0,t.createElement)(n.PanelRow,null,(0,t.createElement)("label",{htmlFor:"ssp-podcast-list-player-below-excerpt"},(0,a.__)("Show Player Below Excerpt","seriously-simple-podcasting")),(0,t.createElement)(n.FormToggle,{id:"ssp-podcast-list-player-below-excerpt",label:(0,a.__)("Show Player Below Excerpt","seriously-simple-podcasting"),checked:u,onChange:()=>{l({playerBelowExcerpt:!u})}})))));return[I,(0,t.createElement)(J(),{className:e,key:"episode-items",block:"seriously-simple-podcasting/podcast-list",attributes:s})]}}var K=X;const q=e=>{let{id:s,label:a,value:l,onChange:o}=e;return(0,t.createElement)("div",{style:{marginBottom:"32px"}},(0,t.createElement)("label",{htmlFor:s,style:{display:"block",marginBottom:"8px",fontWeight:"500"}},a),(0,t.createElement)(n.ColorPicker,{color:l,onChangeComplete:e=>o(e.hex),disableAlpha:!0}))},$=e=>{let{availablePodcasts:s,ids:l,setAttributes:o}=e;const i=Array.isArray(s)?s:[],r=i.find((e=>"-1"===String(e.value)||""===String(e.value)))||{value:-1},c=String(r.value);return(0,t.createElement)(n.Dropdown,{position:"bottom left",renderToggle:e=>{let{isOpen:s,onToggle:o}=e;return(0,t.createElement)(n.Button,{variant:"secondary",onClick:o,"aria-expanded":s},Array.isArray(l)&&l.length>0?(0,a.__)("Selected: ","seriously-simple-podcasting")+l.length:(0,a.__)("All podcasts","seriously-simple-podcasting"))},renderContent:()=>(0,t.createElement)("div",{style:{padding:"8px 12px",maxHeight:"260px",overflow:"auto",minWidth:"240px"}},i.map((e=>{const s=String(e.value),a=Array.isArray(l)&&l.includes(s);return(0,t.createElement)(n.CheckboxControl,{key:`ssp-podcast-opt-${s}`,label:e.label,checked:a,onChange:e=>((e,t)=>{let s=Array.isArray(l)?l.slice():[];if("-1"===e||""===e||e===c?s=t?[c,...i.filter((e=>String(e.value)!==c)).map((e=>String(e.value)))]:[]:t?s.includes(e)||(s=[...s,e]):s=s.filter((t=>t!==e&&t!==c)),0===s.length){const e=i.find((e=>String(e.value)!==c));e&&(s=[String(e.value)])}o({ids:s})})(s,e)})})))})},ee=e=>{let{ids:s,availablePodcasts:l,sort_by:o,sort:i,columns:r,clickable:c,setAttributes:d,dragIndex:p,dragOverIndex:u,onDragStartItem:m,onDragOverItem:g,onDropItem:M,onDragEnd:y,moveItem:N}=e;const E=[{label:(0,a.__)("ID","seriously-simple-podcasting"),value:"id"},{label:(0,a.__)("Name","seriously-simple-podcasting"),value:"name"},{label:(0,a.__)("Episode Count","seriously-simple-podcasting"),value:"episode_count"},{label:(0,a.__)("Manual order","seriously-simple-podcasting"),value:"manual"}],h=[{label:(0,a.__)("Ascending","seriously-simple-podcasting"),value:"asc"},{label:(0,a.__)("Descending","seriously-simple-podcasting"),value:"desc"}],D=[{label:(0,a.__)("Button","seriously-simple-podcasting"),value:"button"},{label:(0,a.__)("Card","seriously-simple-podcasting"),value:"card"},{label:(0,a.__)("Title","seriously-simple-podcasting"),value:"title"}],_=(Array.isArray(l)?l:[]).find((e=>"-1"===String(e.value)||""===String(e.value)))||{value:-1},b=String(_.value);return(0,t.createElement)(n.PanelBody,{key:"ssp-podcasts-content",title:(0,a.__)("Content","seriously-simple-podcasting"),initialOpen:!0},(0,t.createElement)(n.PanelRow,null,(0,t.createElement)("label",{htmlFor:"ssp-podcasts-ids"},(0,a.__)("Podcasts","seriously-simple-podcasting"),(0,t.createElement)(n.Tooltip,{text:(0,a.__)("Select one or more podcasts.","seriously-simple-podcasting")},(0,t.createElement)("span",{className:"dashicon dashicons dashicons-info"})))),(0,t.createElement)($,{availablePodcasts:l,ids:s,setAttributes:d}),(0,t.createElement)(n.PanelRow,null,(0,t.createElement)("label",{htmlFor:"ssp-podcasts-sort-by"},(0,a.__)("Sort By","seriously-simple-podcasting")),(0,t.createElement)(n.SelectControl,{id:"ssp-podcasts-sort-by",value:o,options:E,onChange:e=>d({sort_by:e})})),"manual"!==o&&(0,t.createElement)(n.PanelRow,null,(0,t.createElement)("label",{htmlFor:"ssp-podcasts-sort"},(0,a.__)("Sort Direction","seriously-simple-podcasting")),(0,t.createElement)(n.SelectControl,{id:"ssp-podcasts-sort",value:i,options:h,onChange:e=>d({sort:e})})),(0,t.createElement)(n.PanelRow,null,(0,t.createElement)("label",{htmlFor:"ssp-podcasts-columns"},(0,a.__)("Columns","seriously-simple-podcasting")),(0,t.createElement)(n.__experimentalNumberControl,{id:"ssp-podcasts-columns",value:r,onChange:e=>d({columns:parseInt(e,10)||1}),min:1,max:3,step:1})),(0,t.createElement)(n.PanelRow,null,(0,t.createElement)("label",{htmlFor:"ssp-podcasts-clickable"},(0,a.__)("Clickable Mode","seriously-simple-podcasting")),(0,t.createElement)(n.SelectControl,{id:"ssp-podcasts-clickable",value:c,options:D,onChange:e=>d({clickable:e})})),"manual"===o&&(0,t.createElement)(ae,{ids:s,availablePodcasts:l,allValue:b,dragIndex:p,dragOverIndex:u,onDragStartItem:m,onDragOverItem:g,onDropItem:M,onDragEnd:y,moveItem:N}))},te=e=>{let{show_description:s,show_episode_count:l,show_button:o,button_text:i,description_words:r,description_chars:c,setAttributes:d}=e;return(0,t.createElement)(n.PanelBody,{key:"ssp-podcasts-display",title:(0,a.__)("Display","seriously-simple-podcasting")},(0,t.createElement)(n.PanelRow,null,(0,t.createElement)("label",{htmlFor:"ssp-podcasts-show-description"},(0,a.__)("Show Description","seriously-simple-podcasting")),(0,t.createElement)(n.ToggleControl,{id:"ssp-podcasts-show-description",checked:"true"===s,onChange:e=>d({show_description:e?"true":"false"})})),(0,t.createElement)(n.PanelRow,null,(0,t.createElement)("label",{htmlFor:"ssp-podcasts-show-episode-count"},(0,a.__)("Show Episode Count","seriously-simple-podcasting")),(0,t.createElement)(n.ToggleControl,{id:"ssp-podcasts-show-episode-count",checked:"true"===l,onChange:e=>d({show_episode_count:e?"true":"false"})})),(0,t.createElement)(n.PanelRow,null,(0,t.createElement)("label",{htmlFor:"ssp-podcasts-show-button"},(0,a.__)("Show Button","seriously-simple-podcasting")),(0,t.createElement)(n.ToggleControl,{id:"ssp-podcasts-show-button",checked:"true"===o,onChange:e=>d({show_button:e?"true":"false"})})),"true"===o&&(0,t.createElement)(n.PanelRow,null,(0,t.createElement)("label",{htmlFor:"ssp-podcasts-button-text"},(0,a.__)("Button Text","seriously-simple-podcasting")),(0,t.createElement)(n.TextControl,{id:"ssp-podcasts-button-text",value:i,onChange:e=>d({button_text:e}),placeholder:(0,a.__)("Listen Now","seriously-simple-podcasting")})),"true"===s&&(0,t.createElement)(t.Fragment,null,(0,t.createElement)(n.PanelRow,null,(0,t.createElement)("label",{htmlFor:"ssp-podcasts-description-words"},(0,a.__)("Description Word Limit","seriously-simple-podcasting"),(0,t.createElement)(n.Tooltip,{text:(0,a.__)("Limit description by number of words. Set to 0 for no limit.","seriously-simple-podcasting")},(0,t.createElement)("span",{className:"dashicon dashicons dashicons-info"}))),(0,t.createElement)(n.__experimentalNumberControl,{id:"ssp-podcasts-description-words",value:r,onChange:e=>d({description_words:e}),min:0,step:1})),(0,t.createElement)(n.PanelRow,null,(0,t.createElement)("label",{htmlFor:"ssp-podcasts-description-chars"},(0,a.__)("Description Character Limit","seriously-simple-podcasting"),(0,t.createElement)(n.Tooltip,{text:(0,a.__)("Limit description by number of characters. Set to 0 for no limit. Takes priority over word limit.","seriously-simple-podcasting")},(0,t.createElement)("span",{className:"dashicon dashicons dashicons-info"}))),(0,t.createElement)(n.__experimentalNumberControl,{id:"ssp-podcasts-description-chars",value:c,onChange:e=>d({description_chars:e}),min:0,step:1}))))},se=e=>{let{background:s,background_hover:l,title_color:o,episode_count_color:i,description_color:r,button_color:c,button_hover_color:d,button_text_color:p,show_button:u,setAttributes:m}=e;return(0,t.createElement)(n.PanelBody,{key:"ssp-podcasts-styling",title:(0,a.__)("Styling","seriously-simple-podcasting")},(0,t.createElement)(q,{id:"ssp-podcasts-background",label:(0,a.__)("Background Color","seriously-simple-podcasting"),value:s,onChange:e=>m({background:e})}),(0,t.createElement)(q,{id:"ssp-podcasts-background-hover",label:(0,a.__)("Background Hover Color","seriously-simple-podcasting"),value:l,onChange:e=>m({background_hover:e})}),(0,t.createElement)(q,{id:"ssp-podcasts-title-color",label:(0,a.__)("Title Color","seriously-simple-podcasting"),value:o,onChange:e=>m({title_color:e})}),(0,t.createElement)(q,{id:"ssp-podcasts-episode-count-color",label:(0,a.__)("Episode Count Color","seriously-simple-podcasting"),value:i,onChange:e=>m({episode_count_color:e})}),(0,t.createElement)(q,{id:"ssp-podcasts-description-color",label:(0,a.__)("Description Color","seriously-simple-podcasting"),value:r,onChange:e=>m({description_color:e})}),"true"===u&&(0,t.createElement)(t.Fragment,null,(0,t.createElement)(q,{id:"ssp-podcasts-button-color",label:(0,a.__)("Button Color","seriously-simple-podcasting"),value:c,onChange:e=>m({button_color:e})}),(0,t.createElement)(q,{id:"ssp-podcasts-button-hover-color",label:(0,a.__)("Button Hover Color","seriously-simple-podcasting"),value:d,onChange:e=>m({button_hover_color:e})}),(0,t.createElement)(q,{id:"ssp-podcasts-button-text-color",label:(0,a.__)("Button Text Color","seriously-simple-podcasting"),value:p,onChange:e=>m({button_text_color:e})})))},ae=e=>{let{ids:s,availablePodcasts:l,allValue:o,dragIndex:i,dragOverIndex:r,onDragStartItem:c,onDragOverItem:d,onDropItem:p,onDragEnd:u,moveItem:m}=e;const g=Array.isArray(l)?l:[];return(0,t.createElement)("div",{style:{marginTop:"8px",marginBottom:"8px"}},(0,t.createElement)("div",{style:{fontWeight:500,margin:"6px 0"}},(0,a.__)("Manual order","seriously-simple-podcasting")),Array.isArray(s)&&s.length>0?(0,t.createElement)("ol",{style:{listStyle:"none",padding:0,margin:0}},s.filter((e=>String(e)!==o)).map((e=>{const l=s.indexOf(e),M=s.indexOf(o),y=M>=0?Math.max(1,M+1):0,N=r===l,E=i===l;return(0,t.createElement)(t.Fragment,null,(0,t.createElement)("div",{style:{height:N?"2px":"0px",background:N?"var(--wp-admin-theme-color, #1e78ff)":"transparent",margin:N?"4px 0":"0"}}),(0,t.createElement)("li",{key:`ssp-selected-${e}`,style:{display:"flex",alignItems:"center",gap:"8px",padding:"6px 8px",border:"1px solid #ddd",borderRadius:"4px",marginBottom:"6px",background:E?"#eef5ff":"#fff",cursor:"move"},draggable:!0,onDragStart:()=>c(l),onDragOver:e=>{e.preventDefault(),d&&d(l)},onDrop:()=>p(l),onDragEnd:u},(0,t.createElement)("span",{className:"dashicons dashicons-move","aria-hidden":"true"}),(0,t.createElement)("span",{style:{flex:1}},(e=>{const t=g.find((t=>String(t.value)===String(e)));return t?t.label:String(e)})(e)),(0,t.createElement)(n.Button,{isSmall:!0,variant:"secondary","aria-label":(0,a.__)("Move up","seriously-simple-podcasting"),onClick:()=>m(l,Math.max(y,l-1)),disabled:l<=y},"▲"),(0,t.createElement)(n.Button,{isSmall:!0,variant:"secondary","aria-label":(0,a.__)("Move down","seriously-simple-podcasting"),onClick:()=>m(l,Math.min(s.length-1,l+1)),disabled:l===s.length-1},"▼"),null))}))):(0,t.createElement)("div",{style:{color:"#555"}},(0,a.__)("No podcasts selected. Use the selector above to choose podcasts to order.","seriously-simple-podcasting")))};class le extends t.Component{constructor(e){let{className:t}=e;super(...arguments),this.state={className:t,availablePodcasts:[],dragIndex:null,dragOverIndex:null}}componentDidMount(){window.sspAdmin&&window.sspAdmin.sspPostTypes&&this.setState({availablePodcasts:[{label:(0,a.__)("-- All --","seriously-simple-podcasting"),value:""}]});const{attributes:e,setAttributes:t}=this.props,s=Array.isArray(e.availablePodcasts)?e.availablePodcasts:[],l=Array.isArray(e.ids)?e.ids:[],o=s.find((e=>"-1"===String(e.value)||""===String(e.value)))||{value:-1},i=String(o.value),n=0===l.length,r=1===l.length&&l[0]===i;if(n||r){const e=s.filter((e=>String(e.value)!==i)).map((e=>String(e.value)));t({ids:[i,...e]})}}componentDidUpdate(e){const t=e.attributes&&Array.isArray(e.attributes.availablePodcasts)?e.attributes.availablePodcasts:[],s=this.props.attributes&&Array.isArray(this.props.attributes.availablePodcasts)?this.props.attributes.availablePodcasts:[];if(t!==s){const{attributes:e,setAttributes:t}=this.props,a=s.find((e=>"-1"===String(e.value)||""===String(e.value)))||{value:-1},l=String(a.value);if(!Array.isArray(e.ids)||0===e.ids.length||1===e.ids.length&&("-1"===e.ids[0]||""===e.ids[0])){const e=s.filter((e=>String(e.value)!==l)).map((e=>String(e.value)));t({ids:[l,...e]})}}}render(){const{className:e}=this.state,{attributes:s,setAttributes:l}=this.props,{ids:o,availablePodcasts:n,columns:r,sort_by:c,sort:d,clickable:p,show_button:u,show_description:m,show_episode_count:g,description_words:M,description_chars:y,background:N,background_hover:E,button_color:h,button_hover_color:D,button_text_color:_,button_text:b,title_color:I,episode_count_color:T,description_color:A}=s,v=((0,a.__)("ID","seriously-simple-podcasting"),(0,a.__)("Name","seriously-simple-podcasting"),(0,a.__)("Episode Count","seriously-simple-podcasting"),(0,a.__)("Manual order","seriously-simple-podcasting"),(0,a.__)("Ascending","seriously-simple-podcasting"),(0,a.__)("Descending","seriously-simple-podcasting"),(0,a.__)("Button","seriously-simple-podcasting"),(0,a.__)("Card","seriously-simple-podcasting"),(0,a.__)("Title","seriously-simple-podcasting"),(Array.isArray(n)?n:[]).find((e=>"-1"===String(e.value)||""===String(e.value)))||{value:-1});return String(v.value),[(0,t.createElement)(i.InspectorControls,{key:"inspector-controls"},(0,t.createElement)("div",{className:"ssp-controls ssp-edit-ssp-podcasts"},(0,t.createElement)(ee,{ids:o,availablePodcasts:n,sort_by:c,sort:d,columns:r,clickable:p,setAttributes:l,dragIndex:this.state.dragIndex,dragOverIndex:this.state.dragOverIndex,onDragStartItem:e=>{this.setState({dragIndex:e,dragOverIndex:null})},onDragOverItem:e=>this.setState({dragOverIndex:e}),onDropItem:e=>{const t=this.state.dragIndex;if(null==t||t===e)return;const s=Array.isArray(o)?o.slice():[],a=s.splice(t,1)[0],i=t<e?Math.max(0,e-1):e;s.splice(i,0,a),l({ids:s}),this.setState({dragIndex:null,dragOverIndex:null})},onDragEnd:()=>this.setState({dragIndex:null,dragOverIndex:null}),moveItem:(e,t)=>{const s=Array.isArray(o)?o.slice():[];if(e<0||t<0||e>=s.length||t>=s.length)return;const a=s.splice(e,1)[0];s.splice(t,0,a),l({ids:s})}}),(0,t.createElement)(te,{show_description:m,show_episode_count:g,show_button:u,button_text:b,description_words:M,description_chars:y,setAttributes:l}),(0,t.createElement)(se,{background:N,background_hover:E,title_color:I,episode_count_color:T,description_color:A,button_color:h,button_hover_color:D,button_text_color:_,show_button:u,setAttributes:l}))),(0,t.createElement)("div",{key:"ssp-podcasts-preview",className:e},(0,t.createElement)(J(),{block:"seriously-simple-podcasting/ssp-podcasts",attributes:s}))]}}var oe=le,ie=window.wp.editPost;class ne extends t.Component{render(){const e=sspAdmin.sspPostTypes,s=sspAdmin.isCastosUser,l=wp.data.select("core/editor");if(!l)return;const o=l.getCurrentPostType();return!e instanceof Array||!e.includes(o)||s?void 0:(0,t.createElement)(ie.PluginPostPublishPanel,null,(0,t.createElement)("div",{className:"ssp-post-publish"},(0,t.createElement)("div",{className:"ssp-post-publish__container"},(0,t.createElement)("div",{className:"ssp-post-publish__logos"},(0,t.createElement)("a",{className:"ssp-post-publish__apple",title:"Apple Podcasts",href:"https://podcasters.apple.com/"},(0,t.createElement)("span",null,"Apple Podcasts")),(0,t.createElement)("a",{className:"ssp-post-publish__amazon",title:"Amazon",href:"https://podcasters.amazon.com/"},(0,t.createElement)("span",null,"Amazon")),(0,t.createElement)("a",{className:"ssp-post-publish__spotify",title:"Spotify",href:"https://podcasters.spotify.com/"},(0,t.createElement)("span",null,"Spotify")),(0,t.createElement)("a",{className:"ssp-post-publish__google",title:"Google Podcasts",href:"https://podcasts.google.com/"},(0,t.createElement)("span",null,"Google Podcasts")),(0,t.createElement)("a",{className:"ssp-post-publish__overcast",title:"Overcast",href:"https://overcast.fm/"},(0,t.createElement)("span",null,"Overcast"))),(0,t.createElement)("div",{className:"ssp-post-publish__description"},(0,a.__)("Distribute your podcast everywhere, automatically.","seriously-simple-podcasting")),(0,t.createElement)("div",{className:"ssp-post-publish__btn"},(0,t.createElement)("a",{href:"https://castos.com/podcast-hosting-wordpress/?utm_source=ssp&utm_medium=episode-published-box&utm_campaign=upgrade"},"Try Castos for free")))))}}var re=ne;const{addFilter:ce}=wp.hooks,{createHigherOrderComponent:de}=wp.compose,{Fragment:pe}=wp.element,{InspectorControls:ue}=wp.blockEditor,{PanelBody:me,ToggleControl:ge}=wp.components,Me=["core/freeform","core/heading","core/html","core/list","core/media-text","core/paragraph","core/preformatted","core/pullquote","core/quote","core/table","core/verse","core/columns","core/group","core/block","create-block/castos-transcript"],ye=["create-block/castos-transcript","core/group"];ce("blocks.registerBlockType","extend-block/ssp-block-settings",((e,t)=>Me.includes(t)?(e.attributes.hasOwnProperty("hideFromFeed")||(e.attributes.hideFromFeed={type:"boolean",default:null}),e):e)),ce("editor.BlockEdit","extend-block/ssp-block-settings",de((e=>s=>Me.includes(s.name)?(ye.includes(s.name)&&null===s.attributes.hideFromFeed&&(s.attributes.hideFromFeed=!0),(0,t.createElement)(pe,null,(0,t.createElement)(e,s),(0,t.createElement)(ue,null,(0,t.createElement)(me,{title:(0,a.__)("Feed Settings"),initialOpen:!0},(0,t.createElement)(ge,{label:(0,a.__)("Hide From Podcast RSS Feed"),checked:s.attributes.hideFromFeed,onChange:e=>{s.setAttributes({hideFromFeed:e})}}))))):(0,t.createElement)(e,s))));class Ne extends t.Component{constructor(e){let{className:t}=e;super(...arguments),this.state={className:t,episodes:[]}}render(){const{className:e}=this.state,{attributes:s,setAttributes:l}=this.props,{availablePodcasts:o,availableTags:r,selectedTag:c,limit:d,orderBy:p,order:u,selectedPodcast:m}=s,g=(0,t.createElement)(i.InspectorControls,{key:"inspector-controls"},(0,t.createElement)("div",{className:"ssp-controls ssp-edit-podcast-list"},(0,t.createElement)(n.PanelBody,{key:"ssp-podcast-list-query",title:(0,a.__)("Query","seriously-simple-podcasting")},(0,t.createElement)(n.PanelRow,null,(0,t.createElement)("label",{htmlFor:"ssp-podcast-list-podcast"},(0,a.__)("Select Podcast","seriously-simple-podcasting")),(0,t.createElement)(n.SelectControl,{id:"ssp-podcast-list-podcast",value:m,options:o,onChange:e=>{l({selectedPodcast:e})}})),(0,t.createElement)(n.PanelRow,null,(0,t.createElement)("label",{htmlFor:"ssp-playlist-player-tag"},(0,a.__)("Select Tag","seriously-simple-podcasting")),(0,t.createElement)(n.SelectControl,{id:"ssp-playlist-player-tag",value:c,options:r,onChange:e=>{l({selectedTag:e})}})),(0,t.createElement)(n.PanelRow,null,(0,t.createElement)("label",{htmlFor:"ssp-playlist-player-episodes-limit"},(0,a.__)("Episodes Limit","seriously-simple-podcasting"),(0,t.createElement)(n.Tooltip,{text:(0,a.__)("For the default global settings, use 0. To remove the limit, use -1","seriously-simple-podcasting"),htmlFor:"ssp-playlist-player-episodes-limit"},(0,t.createElement)("span",{className:"dashicon dashicons dashicons-info"}))),(0,t.createElement)(n.__experimentalNumberControl,{id:"ssp-playlist-player-episodes-limit",value:d,min:-1,onChange:e=>{l({limit:e})}})),(0,t.createElement)(n.PanelRow,null,(0,t.createElement)("label",{htmlFor:"ssp-podcast-list-order-by"},(0,a.__)("Order By","seriously-simple-podcasting")),(0,t.createElement)(n.SelectControl,{id:"ssp-podcast-list-order-by",value:p,options:[{label:(0,a.__)("Date","seriously-simple-podcasting"),value:"date"},{label:(0,a.__)("ID","seriously-simple-podcasting"),value:"ID"},{label:(0,a.__)("Title","seriously-simple-podcasting"),value:"title"}],onChange:e=>{l({orderBy:e})}})),(0,t.createElement)(n.PanelRow,null,(0,t.createElement)("label",{htmlFor:"ssp-podcast-list-order"},(0,a.__)("Order","seriously-simple-podcasting")),(0,t.createElement)(n.SelectControl,{id:"ssp-podcast-list-order",value:u,options:[{label:"ASC",value:"asc"},{label:"DESC",value:"desc"}],onChange:e=>{l({order:e})}})))));return[g,(0,t.createElement)(J(),{className:e,key:"playlist-player",block:"seriously-simple-podcasting/playlist-player",attributes:s})]}}var Ee=Ne,he=window.wp.data;var De=window.wp.editor,_e=e=>{let{imageId:s,imageUrl:l,onRemoveImage:o,onSelectImage:r}=e;return(0,t.createElement)("div",{className:"ssp-image-uploader"},(0,t.createElement)(i.MediaUploadCheck,null,(0,t.createElement)(i.MediaUpload,{onSelect:r,allowedTypes:["image"],value:s,render:e=>{let{open:s}=e;return(0,t.createElement)("div",{className:"image-wrapper",onClick:s,style:{cursor:"pointer",position:"relative"}},l?(0,t.createElement)("img",{src:l,alt:(0,a.__)("Selected Image","seriously-simple-podcasting"),style:{maxWidth:"100%"}}):(0,t.createElement)("div",{className:"no-image"},(0,t.createElement)("span",null,(0,a.__)("Upload Cover Image","seriously-simple-podcasting"))),l&&(0,t.createElement)(n.IconButton,{icon:"no-alt",label:(0,a.__)("Remove image","seriously-simple-podcasting"),onClick:o,className:"remove-image"}))}})))},be=e=>{let{audioUrl:s,onChangeUrl:l,onSelectAudio:o}=e;return(0,t.createElement)("div",{className:"ssp-file-uploader"},(0,t.createElement)(n.TextControl,{value:s,onChange:l,placeholder:(0,a.__)("Enter audio file URL or upload a file","seriously-simple-podcasting")}),(0,t.createElement)(i.MediaUploadCheck,null,(0,t.createElement)(i.MediaUpload,{onSelect:o,allowedTypes:["audio"],render:e=>{let{open:s}=e;return(0,t.createElement)(n.Button,{className:"button w-full",onClick:s},(0,a.__)("Upload File","seriously-simple-podcasting"))}})))},Ie=e=>{let{description:s,title:a,url:l}=e;return(0,t.createElement)("div",{className:"ssp-promo-sidebar"},(0,t.createElement)("div",{className:"ssp-promo-sidebar__description-row"},(0,t.createElement)("div",{className:"ssp-promo-sidebar__bell"},(0,t.createElement)("img",{src:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTE0Ljg1NyAxNy4wODJDMTYuNzIwMiAxNi44NjE0IDE4LjU1MDkgMTYuNDIxNyAyMC4zMTEgMTUuNzcyQzE4LjgyMDQgMTQuMTIwOCAxNy45OTY3IDExLjk3NDUgMTggOS43NVY5QzE4IDcuNDA4NyAxNy4zNjc5IDUuODgyNTggMTYuMjQyNyA0Ljc1NzM2QzE1LjExNzQgMy42MzIxNCAxMy41OTEzIDMgMTIgM0MxMC40MDg3IDMgOC44ODI2IDMuNjMyMTQgNy43NTczOCA0Ljc1NzM2QzYuNjMyMTYgNS44ODI1OCA2LjAwMDAyIDcuNDA4NyA2LjAwMDAyIDlWOS43NUM2LjAwMzA0IDExLjk3NDYgNS4xNzkwMSAxNC4xMjEgMy42ODgwMiAxNS43NzJDNS40MjEwMiAxNi40MTIgNy4yNDgwMiAxNi44NTcgOS4xNDMwMiAxNy4wODJNMTQuODU3IDE3LjA4MkMxMi45NTkgMTcuMzA3MSAxMS4wNDEgMTcuMzA3MSA5LjE0MzAyIDE3LjA4Mk0xNC44NTcgMTcuMDgyQzE1LjAwMTEgMTcuNTMxOSAxNS4wMzcgMTguMDA5NCAxNC45NjE2IDE4LjQ3NTdDMTQuODg2MyAxOC45NDIgMTQuNzAxOSAxOS4zODQgMTQuNDIzNCAxOS43NjU2QzE0LjE0NSAyMC4xNDcyIDEzLjc4MDMgMjAuNDU3NiAxMy4zNTkyIDIwLjY3MTZDMTIuOTM4MSAyMC44ODU2IDEyLjQ3MjQgMjAuOTk3MiAxMiAyMC45OTcyQzExLjUyNzYgMjAuOTk3MiAxMS4wNjE5IDIwLjg4NTYgMTAuNjQwOCAyMC42NzE2QzEwLjIxOTcgMjAuNDU3NiA5Ljg1NTA5IDIwLjE0NzIgOS41NzY2NCAxOS43NjU2QzkuMjk4MTkgMTkuMzg0IDkuMTEzNzkgMTguOTQyIDkuMDM4NDQgMTguNDc1N0M4Ljk2MzA5IDE4LjAwOTQgOC45OTg5MiAxNy41MzE5IDkuMTQzMDIgMTcuMDgyTTMuMTI0MDIgNy41QzMuNDA1OTkgNS44MjQ5NyA0LjE1NzgyIDQuMjY0NDQgNS4yOTIwMiAzTTE4LjcwOCAzQzE5Ljg0MjIgNC4yNjQ0NCAyMC41OTQxIDUuODI0OTcgMjAuODc2IDcuNSIgc3Ryb2tlPSIjODUzQUVEIiBzdHJva2Utd2lkdGg9IjEuNSIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+Cjwvc3ZnPgo=",alt:a})),(0,t.createElement)("div",{className:"ssp-promo-sidebar__description"},s)),(0,t.createElement)("a",{className:"ssp-promo-sidebar__btn",target:"_blank",rel:"noopener noreferrer",href:l},a,(0,t.createElement)("img",{src:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTciIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNyAxNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGcgb3BhY2l0eT0iMC41Ij4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik00LjcxOTk1IDExLjc4QzQuNTc5NSAxMS42Mzk0IDQuNTAwNjEgMTEuNDQ4OCA0LjUwMDYxIDExLjI1QzQuNTAwNjEgMTEuMDUxMiA0LjU3OTUgMTAuODYwNiA0LjcxOTk1IDEwLjcyTDkuOTM5OTUgNS41SDYuMjQ5OTVDNi4wNTEwNCA1LjUgNS44NjAyNyA1LjQyMDk4IDUuNzE5NjIgNS4yODAzM0M1LjU3ODk3IDUuMTM5NjggNS40OTk5NSA0Ljk0ODkxIDUuNDk5OTUgNC43NUM1LjQ5OTk1IDQuNTUxMDkgNS41Nzg5NyA0LjM2MDMyIDUuNzE5NjIgNC4yMTk2N0M1Ljg2MDI3IDQuMDc5MDIgNi4wNTEwNCA0IDYuMjQ5OTUgNEgxMS43NUMxMS45NDg5IDQgMTIuMTM5NiA0LjA3OTAyIDEyLjI4MDMgNC4yMTk2N0MxMi40MjA5IDQuMzYwMzIgMTIuNSA0LjU1MTA5IDEyLjUgNC43NVYxMC4yNUMxMi41IDEwLjQ0ODkgMTIuNDIwOSAxMC42Mzk3IDEyLjI4MDMgMTAuNzgwM0MxMi4xMzk2IDEwLjkyMSAxMS45NDg5IDExIDExLjc1IDExQzExLjU1MSAxMSAxMS4zNjAzIDEwLjkyMSAxMS4yMTk2IDEwLjc4MDNDMTEuMDc5IDEwLjYzOTcgMTEgMTAuNDQ4OSAxMSAxMC4yNVY2LjU2TDUuNzc5OTUgMTEuNzhDNS42MzkzMyAxMS45MjA1IDUuNDQ4NyAxMS45OTkzIDUuMjQ5OTUgMTEuOTk5M0M1LjA1MTIgMTEuOTk5MyA0Ljg2MDU4IDExLjkyMDUgNC43MTk5NSAxMS43OFoiIGZpbGw9IiM4NTNBRUQiLz4KPC9nPgo8L3N2Zz4K",alt:a})))},Te=()=>{const e=(0,he.useSelect)((e=>e("core/editor").getCurrentPostId())),s="series",l=(0,he.useSelect)((e=>e("core/editor").getEditedPostAttribute(s))),o=(0,he.useSelect)((t=>t("core").getEntityRecords("taxonomy",s,{object_id:e}))),i=o?o.filter((e=>l.includes(e.id))):[],n=(0,he.useSelect)((e=>e("core/editor").getEditedPostAttribute("title"))),[r,c]=(0,t.useState)("");return(0,t.useEffect)((()=>{(()=>{const e=n||(0,a.__)("My new episode","seriously-simple-podcasting"),t=i.length>0?i[0].name:(0,a.__)("My Podcast Title","seriously-simple-podcasting"),s=`https://dynamo.castos.com/podcast-covers?utm_source=WordPress&utm_medium=Plugin&utm_campaign=dashboard&t=${encodeURIComponent(e)}&s=${encodeURIComponent(t.replace(" (default)",""))}`;c(s)})()}),[n,i]),r&&(0,t.createElement)(Ie,{description:(0,a.__)("Create an episode cover image with our free tool Dynamo.","seriously-simple-podcasting"),title:(0,a.__)("Create Image with Dynamo","seriously-simple-podcasting"),url:r})},Ae=window.wp.date,ve=window.moment,xe=s.n(ve),je=e=>{let{value:s,onChange:a}=e;const l=e=>e?(0,Ae.dateI18n)("j F, Y",xe().utc(e)):"",[o,i]=(0,t.useState)(!1);return(0,t.createElement)("div",null,(0,t.createElement)(n.TextControl,{className:"ssp-calendar-icon",value:l(s),onChange:()=>{},onClick:()=>{i(!o)}}),o&&(0,t.createElement)(n.Popover,{className:"ssp-date-input",position:"bottom center",onClose:()=>setTimeout((()=>{i(!1)}),100)},(0,t.createElement)(n.DateTimePicker,{currentDate:s,onChange:e=>{var t;a((t=e)?xe().utc(t).format("YYYY-MM-DD"):"",l(e))},startOfWeek:1})))},Se=e=>{let{audioUrl:s,onChangeUrl:l,onFileUploaded:o,fileName:i}=e;const[r,c]=(0,t.useState)("");(0,u.useEffect)((()=>{"undefined"!=typeof upload_credentials&&function(e){const t=new plupload.Uploader(e);t.init(),t.bind("FilesAdded",((e,s)=>{const l=s[0];!function(e){const[t]=e.type.split("/");return"audio"===t||"video"===t}(l)?(d((0,a.__)("Invalid file type. Please select an audio or video file.","seriously-simple-podcasting")),t.removeFile(l)):(d((0,a.__)("Uploading file to Castos Hosting...","seriously-simple-podcasting")),t.start())})),t.bind("BeforeUpload",((e,s)=>{const a=s.name.replace(/[^\w-]+/g,"-").replace(/\s+/g,"-");t.settings.multipart_params={token:upload_credentials.castos_api_token,episode_id:upload_credentials.castos_episode_id,file_name:a}})),t.bind("Error",((e,t)=>{let s=t.message;try{const e=JSON.parse(t.response);e&&e.message&&(s=e.message)}catch(e){}alert((0,a.__)("Error: ","seriously-simple-podcasting")+s)})),t.bind("UploadProgress",((e,t)=>{let s=(0,a.__)("Uploading file to Castos Hosting. You can continue editing this post while the file uploads. Progress: %d%%","seriously-simple-podcasting");s=(0,a.sprintf)(s,t.percent),d(s)})),t.bind("FileUploaded",((e,s,l)=>{const i=JSON.parse(l.response);if(200===i.status){const t=i.file,s=e.files[0].name;d((0,a.__)("Upload complete!","seriously-simple-podcasting")),o(t,s)}t.splice()})),t.bind("UploadComplete",(()=>{setTimeout((()=>{c(""),(0,he.dispatch)("core/notices").removeNotice("ssp-castos-uploader-notice")}),5e3)}))}({runtimes:"html5",browse_button:"ssp_gut_select_file",multi_selection:!1,container:"ssp_gut_upload_container",url:upload_credentials.castos_api_url+"files"})}),[]);const d=e=>{c(e),(0,he.dispatch)("core/notices").createNotice("info",e,{isDismissible:!1,id:"ssp-castos-uploader-notice"})};return(0,t.createElement)("div",{className:"castos-uploader-component"},(0,t.createElement)(n.TextControl,{value:s,onChange:l,placeholder:(0,a.__)("Enter audio file URL or upload a file","seriously-simple-podcasting")}),(0,t.createElement)("div",{id:"ssp_gut_upload_container"},(0,t.createElement)(n.Button,{id:"ssp_gut_select_file",className:"button w-full",onClick:()=>{},isSecondary:!0},(0,a.__)("Select File","seriously-simple-podcasting"))),i&&(0,t.createElement)("div",{style:{marginTop:"8px"}},(0,t.createElement)("span",{className:"ssp-episode-details-label"},(0,a.__)("Original Filename: ","seriously-simple-podcasting")),(0,t.createElement)("span",null,i)),r&&(0,t.createElement)(n.Notice,{className:"ssp-gut-sidebar-notice",status:"info",isDismissible:!1},(0,t.createElement)("p",null,r)))},fe=e=>{let{syncStatus:s}=e;return(0,t.createElement)("div",{className:"ssp-sidebar-content"},(0,t.createElement)("div",{className:"ssp-sidebar-field-section"},(0,t.createElement)("div",{className:"ssp-sync-status"},(0,t.createElement)("div",{className:`ssp-sync-label ssp-full-label ${s.status}`,title:s.title},s.title),(0,t.createElement)("div",{className:"ssp-sync-message"},s.message),(0,t.createElement)("div",{className:"ssp-sync-error"},s.error))))};(0,l.registerBlockType)("seriously-simple-podcasting/audio-player",{title:(0,a.__)("Audio Player","seriously-simple-podcasting"),icon:"controls-volumeon",category:"layout",supports:{multiple:!1},attributes:{id:{type:"string"},audio_player:{type:"string",source:"html",selector:"span"}},edit:P,save:(e,s)=>{const{id:a,audio_player:l}=e.attributes;return(0,t.createElement)(O,{className:s,audioPlayer:l})}}),(0,l.registerBlockType)("seriously-simple-podcasting/castos-player",{title:(0,a.__)("Castos Player (OLD)","seriously-simple-podcasting"),icon:"controls-volumeon",category:"layout",supports:{multiple:!1},attributes:{id:{type:"string"},image:{type:"string"},file:{type:"string"},title:{type:"string"},duration:{type:"string"},download:{type:"string"},episode_data:{type:"object"}},edit:W,save:(e,s)=>{const{id:a,image:l,file:o,title:i,duration:n,download:r,episode_data:c}=e.attributes;return c?(0,t.createElement)(R,{className:s,episodeId:a,episodeImage:l,episodeFileUrl:o,episodeTitle:i,episodeDuration:n,episodeDownloadUrl:r,episodeData:c}):""}}),(0,l.registerBlockType)("seriously-simple-podcasting/castos-html-player",{title:(0,a.__)("Castos Player","seriously-simple-podcasting"),icon:"controls-volumeon",category:"layout",attributes:{episodeId:{type:"string"}},edit:V,save:()=>null}),(0,l.registerBlockType)("seriously-simple-podcasting/podcast-list",{title:(0,a.__)("Episode List","seriously-simple-podcasting"),icon:"megaphone",category:"widgets",supports:{multiple:!1},edit:K}),(0,l.registerBlockType)("seriously-simple-podcasting/playlist-player",{title:(0,a.__)("Playlist Player","seriously-simple-podcasting"),icon:"controls-volumeon",category:"widgets",edit:Ee}),(0,l.registerBlockType)("seriously-simple-podcasting/ssp-podcasts",{title:(0,a.__)("SSP Podcasts","seriously-simple-podcasting"),icon:"megaphone",category:"widgets",supports:{multiple:!1},edit:oe}),(0,o.registerPlugin)("post-publish-panel",{render:re}),(0,o.registerPlugin)("episode-sync-status",{render:()=>{if(!(e=>{if(!e)return!1;const t=sspAdmin.sspPostTypes;let s=e.getCurrentPost();return t instanceof Array&&s&&t.includes(s.type)})((0,he.useSelect)((e=>e("core/editor")))))return;const e=(0,he.useSelect)((e=>e("core/editor").isSavingPost()),[]),s=(0,t.useRef)(e),a=(0,he.useSelect)((e=>e("core/editor").getCurrentPost()),[]),{createWarningNotice:l,createInfoNotice:o}=(0,he.useDispatch)("core/notices"),i=s.current&&!e;s.current=e,i&&setTimeout((async()=>{await n(a)}),1e3);const n=async e=>{try{const t=await p(e);if(t&&t.episode_data){let e=t.episode_data.syncStatus;if(!e||"none"===e.status)return;d(e),r(e),document.dispatchEvent(new CustomEvent("changedSyncStatus",{detail:{syncStatus:e}}))}}catch(e){return console.error("Error:",e),null}},r=e=>{let t=document.querySelector(".js-ssp-sync-label");t.textContent=e.title,t.setAttribute("title",e.title),t.classList.remove("failed","synced","syncing"),t.classList.add(e.status),document.querySelector(".js-ssp-sync-message").textContent=e.message,document.querySelector(".js-ssp-sync-description").textContent=e.error},d=e=>{const t="ssp-sync-notice";let s=e.message;e.isSynced?o(s,{type:"snackbar",id:t}):(e.error&&(s+=" "+e.error),l(s,{id:t}))},p=async e=>{const t=await(async e=>{try{const t=await c()({path:"/wp/v2/types"});return t[e]&&t[e].rest_base?t[e].rest_base:(console.warn(`Post type "${e}" not found.`),null)}catch(e){return console.error("There was a problem with the fetch operation:",e),null}})(e.type);return await c()({path:`/wp/v2/${t}/${e.id}`})}}}),(0,o.registerPlugin)("ssp-episode-meta-sidebar",{render:()=>{var e;const s=(0,he.useSelect)((e=>e("core/editor")));if(!sspAdmin.sspPostTypes.includes(s.getCurrentPostType()))return;const l=sspAdmin.isItunesEnabled,o=sspAdmin.isCastosUser,i=o?null===(e=s.getEditedPostAttribute("episode_data"))||void 0===e?void 0:e.syncStatus:null,r=s.getEditedPostAttribute("meta");if(!r){const{createNotice:e}=(0,he.useDispatch)("core/notices");return void e("warning",(0,a.__)("We noticed that your custom post type does not support custom fields. Please ensure that custom fields are supported. [URL]Learn more[/URL]","seriously-simple-podcasting").replace("[URL]",'<a href="https://support.castos.com/article/453-using-seriously-simple-podcasting-with-custom-post-types" target="_blank" rel="noopener">').replace("[/URL]","</a>"),{isDismissible:!0,id:"ssp-gutenberg-meta",__unstableHTML:!0})}const c=r.episode_type||"audio",d=r.audio_file||"",p=r.cover_image_id||"",u=r.cover_image||"",m=r.duration||"",g=r.filesize||"",M=r.date_recorded||"",y=r.explicit||"",N=r.block||"",E=r.podmotor_file_id||"",h=r.filesize_raw||"",D=r.castos_file_data||"",_=r.itunes_episode_number||"",b=r.itunes_title||"",I=r.itunes_season_number||"",T=r.itunes_episode_type||"",[A,v]=(0,t.useState)(c),[x,j]=(0,t.useState)(d),[S,f]=(0,t.useState)(p),[w,z]=(0,t.useState)(u),[C,k]=(0,t.useState)(m),[O,L]=(0,t.useState)(g),[P,U]=(0,t.useState)(M),[Y,F]=(0,t.useState)(y),[B,R]=(0,t.useState)(N),[Z,W]=(0,t.useState)(E),[H,J]=(0,t.useState)(h),[G,V]=(0,t.useState)(D),[X,K]=(0,t.useState)(_),[q,$]=(0,t.useState)(b),[ee,te]=(0,t.useState)(I),[se,ae]=(0,t.useState)(T),[le,oe]=(0,t.useState)(i),[ie,ne]=(0,t.useState)(!0),[re,ce]=(0,t.useState)(!0),[de,pe]=(0,t.useState)(!0),[ue,me]=(0,t.useState)(!0),[ge,Me]=(0,t.useState)(!0),ye=wp.hooks.applyFilters("ssp.episodeMetaSidebarEnd",null),{editPost:Ne}=(0,he.useDispatch)("core/editor"),Ee=(e,t,s)=>{var a;const l={audio_file:j,episode_type:v,cover_image_id:f,cover_image:z,duration:k,filesize:L,date_recorded:U,explicit:F,block:R,podmotor_file_id:W,filesize_raw:J,castos_file_data:V,itunes_episode_number:K,itunes_title:$,itunes_season_number:te,itunes_episode_type:ae};"boolean"==typeof t&&(t=t?"on":""),((e,t)=>{Ne({meta:{[e]:t}})})(e,t),null===(a=l[e])||void 0===a||a.call(l,t),s&&document.dispatchEvent(new CustomEvent("changedSSPGutField",{detail:{field:e,value:t}}))};return(0,t.useEffect)((()=>{const e=e=>{Ee(e.detail.field,e.detail.value)},t=e=>{oe(e.detail.syncStatus)};return document.addEventListener("changedSSPField",e),document.addEventListener("changedSyncStatus",t),()=>{document.removeEventListener("changedSSPField",e),document.removeEventListener("changedSyncStatus",t)}}),[]),(0,t.createElement)(De.PluginSidebar,{name:"ssp-episode-meta-sidebar",title:(0,a.__)("Seriously Simple Podcasting","seriously-simple-podcasting"),className:"ssp-episode-meta-sidebar",icon:(0,t.createElement)("img",{src:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzYiIGhlaWdodD0iMzYiIHZpZXdCb3g9IjAgMCAzNiAzNiIgZmlsbD0ibm9uZSIKCSB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgoJPGNpcmNsZSBjeD0iMTgiIGN5PSIxOCIgcj0iMTYuODI0NSIgZmlsbD0iIzJBMkEyQSIvPgoJPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiCgkJICBkPSJNMTggMzZDMjcuOTQxMSAzNiAzNiAyNy45NDExIDM2IDE4QzM2IDguMDU4ODcgMjcuOTQxMSAwIDE4IDBDOC4wNTg4NyAwIDAgOC4wNTg4NyAwIDE4QzAgMjcuOTQxMSA4LjA1ODg3IDM2IDE4IDM2Wk0xOCAzNS4yNjUzQzI3LjUzNTQgMzUuMjY1MyAzNS4yNjUzIDI3LjUzNTQgMzUuMjY1MyAxOEMzNS4yNjUzIDguNDY0NjMgMjcuNTM1NCAwLjczNDY5NCAxOCAwLjczNDY5NEM4LjQ2NDYyIDAuNzM0Njk0IDAuNzM0NjggOC40NjQ2MyAwLjczNDY4IDE4QzAuNzM0NjggMjcuNTM1NCA4LjQ2NDYyIDM1LjI2NTMgMTggMzUuMjY1M1oiCgkJICBmaWxsPSIjMkEyQTJBIi8+Cgk8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIKCQkgIGQ9Ik05LjU2MzM4IDEyLjA3MjNDOS43NzUyMSAxMS45NDM0IDEwLjA0OSAxMS43NzY5IDEwLjM1OTIgMTEuODI4NUMxMC41Mjg3IDExLjg1NjggMTAuNzA5IDExLjk5MzcgMTAuOTE2OSAxMi4xNTE0QzExLjI0OTggMTIuNDA0IDExLjY1MzMgMTIuNzEwMiAxMi4xOTU5IDEyLjcxMDJDMTIuODIyIDEyLjcxMDIgMTMuMTUxNiAxMi41NjIgMTMuMzQyOCAxMi40NzYxQzEzLjQyMDggMTIuNDQxIDEzLjQ3NTggMTIuNDE2MyAxMy41MTg0IDEyLjQxNjNDMTMuNjY1MyAxMi40MTYzIDEzLjg4NTcgMTIuNjM2NyAxMy41OTE4IDEyLjg1NzFDMTMuNTQzNCAxMi44OTM0IDEzLjQ4MyAxMi45NDM3IDEzLjQxMSAxMy4wMDM3QzEzLjA0NTkgMTMuMzA3NiAxMi4zODE3IDEzLjg2MDYgMTEuNDYxMiAxNC4xMDYxQzExLjI4NjMgMTQuMTUyNyAxMS4xMjQzIDE0LjE5MiAxMC45NzQ3IDE0LjIyODJDMTAuMTgxOCAxNC40MjAzIDkuNzM2NDQgMTQuNTI4MyA5LjU1MTAxIDE1LjIwODFDOS4zMzA2IDE2LjAxNjMgOS40Nzc1NCAxOS4yNDkgMTIuMTk1OSAxOS4yNDlDMTMuMzIxOSAxOS4yNDkgMTQuMjA4NCAxOC44MDc4IDE1LjI0NyAxOC4yOTA5QzE2LjcxNTcgMTcuNTU5OSAxOC40ODg3IDE2LjY3NzUgMjEuNjczNSAxNi42Nzc1QzI3LjExMDIgMTYuNjc3NSAyOC4yMTIyIDIxLjMwNjEgMjguMjEyMiAyMy42NTcxQzI4LjIxMjIgMjYuMDA4MSAyNS41NjczIDI5LjI0MDggMjEuMDEyMiAyOS4yNDA4QzE3LjgwNzkgMjkuMjQwOCAxNi43MTY4IDI4LjE2MTUgMTYuMTUwNSAyNy42MDEzQzE2LjA3MjggMjcuNTI0NCAxNi4wMDQ5IDI3LjQ1NzMgMTUuOTQyOCAyNy40MDQxQzE2LjMxMDIgMjguMzU5MiAxOC4xNDY5IDMwLjQwMTYgMjEuNjczNSAzMC4zNDI4QzIxLjYyNDUgMzAuNjEyMiAyMC40MDk4IDMxLjE1MSAxNS45NDI4IDMxLjE1MUMxMC4zNTkyIDMxLjE1MSA2LjAyNDQ4IDI2LjE1NTEgNi4wMjQ0OCAyMS42NzM0QzYuMDI0NDggMTguNDgzNCA2Ljg0MzQxIDE2LjYzMzUgNy4zMTU0NCAxNS41NjcxQzcuNTA2NTYgMTUuMTM1NCA3LjY0MDgxIDE0LjgzMjEgNy42NDA4MSAxNC42MjA0QzcuNjQwODEgMTMuOTM2IDYuODc1NzggMTMuMjUxNiA2LjE3NzE1IDEyLjYyNjZDNi4xMjU3OSAxMi41ODA3IDYuMDc0NzkgMTIuNTM1MSA2LjAyNDQ4IDEyLjQ4OThDNS4yODk3OSAxMS44Mjg1IDUuMTQyODUgMTAuNTc5NiA1LjIxNjMyIDEwLjM1OTJDNS4yODk3OSAxMC4xMzg4IDUuNTgzNjYgMTAuMDY1MyA1LjY1NzEzIDEwLjUwNjFDNS43MzA2IDEwLjk0NjkgNi40NjUzIDExLjM4NzcgNi45Nzk1OCAxMS4zODc3QzcuMTkwMjMgMTEuMzg3NyA3LjMwMjI3IDExLjM2MzEgNy40MTE2MyAxMS4zMzlDNy41NjkyNiAxMS4zMDQzIDcuNzIxMzIgMTEuMjcwOSA4LjE1NTA5IDExLjMxNDNDOC41MjIxMiAxMS4zNTEgOC45NjYxMSAxMS44MTU4IDkuMjIyODMgMTIuMDg0NUM5LjI2MzkxIDEyLjEyNzUgOS4zMDAyIDEyLjE2NTUgOS4zMzA2IDEyLjE5NTlDOS4zOTU5MyAxMi4xNzQxIDkuNDc0MTUgMTIuMTI2NSA5LjU2MzM4IDEyLjA3MjNaTTE2LjM4MzcgMjUuNDIwNEMxNi42Njc3IDI1LjQyMDQgMTYuODk4IDI1LjE5MDIgMTYuODk4IDI0LjkwNjFDMTYuODk4IDI0LjYyMjEgMTYuNjY3NyAyNC4zOTE4IDE2LjM4MzcgMjQuMzkxOEMxNi4wOTk2IDI0LjM5MTggMTUuODY5NCAyNC42MjIxIDE1Ljg2OTQgMjQuOTA2MUMxNS44Njk0IDI1LjE5MDIgMTYuMDk5NiAyNS40MjA0IDE2LjM4MzcgMjUuNDIwNFoiCgkJICBmaWxsPSJ3aGl0ZSIvPgoJPHBhdGgKCQlkPSJNMTMuODEyMiA4Ljk2MzI4QzEzLjUxODQgOS4xOTE4NSAxMy40NzQgOS43NzIyNyAxMy43NzYgMTAuMDY5QzE0LjA3ODQgMTAuNDExNyAxNC40NzM1IDEwLjQwNTUgMTQuODgxNyAxMC4xMDUyQzE3LjYzMjYgOC4wODE2NSAyNC45MDYxIDguMTU1MTIgMjguMDY1MyAxMC4wNjlDMjguNDIzMSAxMC4yODU3IDI4Ljg1MDcgMTAuMzM4MyAyOS4xMjQ1IDEwLjA1OTZDMjkuMTI0NSAxMC4wNTk2IDI5LjEyNDUgMTAuMDU5NiAyOS4xNDc0IDEwLjAzNjNDMjkuNDQ0IDkuNzM0MzQgMjkuNDYxMiA5LjE4OTQ4IDI5LjA5MTUgOC45MzE0N0MyNS4zNDY5IDYuMzE4MzggMTcuMTE4NCA2LjM5MTg1IDEzLjgxMjIgOC45NjMyOFoiCgkJZmlsbD0iI0NGMzUyOSIvPgoJPHBhdGgKCQlkPSJNMTUuNTc1NSAxMS42MDgyQzE1LjEzNDcgMTEuODI4NiAxNS4xMzQ3IDEyLjM0MjkgMTUuMzU1MSAxMi43MTAyQzE1LjU3NTUgMTMuMDc3NiAxNi4wMzk1IDEzLjA4NSAxNi40NTcxIDEyLjg1NzJDMTkuNTY2IDExLjQ2ODYgMjMuMjY4MSAxMS4zMTE1IDI2LjQ0OSAxMi45MzA2QzI2LjgwNDQgMTMuMTExNSAyNy40MDQxIDEzLjE1MSAyNy42MjQ1IDEyLjcxMDJDMjcuODM0OSAxMi4yODk1IDI3Ljg0NDkgMTEuOTAyMSAyNy4zMzA2IDExLjYwODJDMjQuMTgwMSA5LjgwNzkgMTkuMTY2IDkuNTk4MzQgMTUuNTc1NSAxMS42MDgyWiIKCQlmaWxsPSIjQ0YzNTI5Ii8+Cgk8cGF0aAoJCWQ9Ik0xNy4xOTE4IDE0LjQ3MzRDMTYuNzUxIDE0LjY5MzggMTYuNjc3NSAxNS4xNzE0IDE2Ljg5NzkgMTUuNTAyQzE3LjI0MDggMTYuMDE2MyAxNy43MDYxIDE1Ljg1ODEgMTguMTAyMSAxNS43MTIyQzIwLjc5MTggMTQuNzIwOSAyMi4yNjEyIDE0Ljc2NzMgMjQuODMyNiAxNS42NzZDMjUuMzUzOSAxNS44NjAyIDI1LjcxNDMgMTUuODY5NCAyNi4wMDgyIDE1LjUwMkMyNi4yMjg2IDE1LjEzNDcgMjYuMTg0MiAxNC42Mzg4IDI1LjY0MDggMTQuNEMyMi40ODQgMTMuMDEyNSAxOS44MzY3IDEzLjAwNDEgMTcuMTkxOCAxNC40NzM0WiIKCQlmaWxsPSIjQ0YzNTI5Ii8+Cjwvc3ZnPgo=",className:"ssp-open",alt:"SSP Icon"})},(0,t.createElement)(n.PanelBody,null,(0,t.createElement)("h2",{className:Q()("ssp-accordion",{open:re}),onClick:()=>ce(!re),"aria-expanded":re},(0,a.__)("Episode Media","seriously-simple-podcasting")),re&&(0,t.createElement)("div",{className:"ssp-sidebar-content"},(0,t.createElement)("div",{className:"ssp-sidebar-field-section"},(0,t.createElement)("h3",null,(0,a.__)("Episode Type","seriously-simple-podcasting")),(0,t.createElement)(n.RadioControl,{selected:A,options:[{label:(0,a.__)("Audio","seriously-simple-podcasting"),value:"audio"},{label:(0,a.__)("Video","seriously-simple-podcasting"),value:"video"}],onChange:e=>Ee("episode_type",e,!0)})),(0,t.createElement)("div",{className:"ssp-sidebar-field-section"},(0,t.createElement)("h3",null,(0,a.__)("Episode File","seriously-simple-podcasting")),!o&&(0,t.createElement)(be,{audioUrl:x,onChangeUrl:e=>Ee("audio_file",e,!0),onSelectAudio:e=>(e=>{if(Ee("audio_file",e.url,!0),e.filesizeInBytes){Ee("filesize_raw",e.filesizeInBytes.toString(),!0);const t=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;if(!e)return!1;const s=Math.log(e)/Math.log(1024),a=["","k","M","G","T"],l=Math.pow(1024,s-Math.floor(s));return Math.round(l*Math.pow(10,t))/Math.pow(10,t)+a[Math.floor(s)]}(e.filesizeInBytes);Ee("filesize",t||e.filesizeHumanReadable,!0)}if(null!=e&&e.fileLength){const t=(e=>{if(!e||"string"!=typeof e)return"";const t=e.split(":");if(2!==t.length)return e;const s=parseInt(t[0],10),a=parseInt(t[1],10),l=e=>e.toString().padStart(2,"0");return`00:${l(s)}:${l(a)}`})(e.fileLength);t&&Ee("duration",t,!0)}const t=null!=e&&e.date?new Date(e.date):new Date,s=t.getFullYear(),a=String(t.getMonth()+1).padStart(2,"0"),l=String(t.getDate()).padStart(2,"0");Ee("date_recorded",s+"-"+a+"-"+l,!0)})(e)}),o&&(0,t.createElement)(Se,{audioUrl:x,onChangeUrl:e=>Ee("audio_file",e,!0),fileName:(()=>{const e=G?JSON.parse(G):"";return null==e?void 0:e.name})(),onFileUploaded:(e,t)=>{Ee("audio_file",e.file_path,!0),Ee("podmotor_file_id",e.id.toString(),!0),Ee("filesize_raw",e.file_size.toString(),!0),Ee("filesize",plupload.formatSize(e.file_size),!0),Ee("duration",e.file_duration,!0),Ee("castos_file_data",JSON.stringify({path:e.file_path,name:t}),!1)}}),(0,t.createElement)("div",{className:"description"},(0,a.__)("Upload audio episode files as MP3 or M4A, video episodes as MP4, or paste the file URL.","seriously-simple-podcasting"))),(0,t.createElement)("div",{className:"ssp-sidebar-field-section"},(0,t.createElement)(Ie,{description:(0,a.__)("Get lower bandwidth fees, file storage, and better stats when hosting with Castos.","seriously-simple-podcasting"),title:(0,a.__)("Try Castos for free","seriously-simple-podcasting"),url:"https://castos.com/podcast-hosting-wordpress/?utm_source=ssp&amp;utm_medium=episode-file-box&amp;utm_campaign=upgrade"})))),(0,t.createElement)(n.PanelBody,null,(0,t.createElement)("h2",{className:Q()("ssp-accordion",{open:de}),onClick:()=>pe(!de),"aria-expanded":de},(0,a.__)("Episode Image","seriously-simple-podcasting")),de&&(0,t.createElement)("div",{className:"ssp-sidebar-content"},(0,t.createElement)("div",{className:"ssp-sidebar-field-section"},(0,t.createElement)(_e,{imageId:S,imageUrl:w,onRemoveImage:e=>{e.stopPropagation(),Ee("cover_image","",!0),Ee("cover_image_id","",!0)},onSelectImage:e=>{Ee("cover_image",e.url,!0),Ee("cover_image_id",e.id.toString()+"",!0)}}),(0,t.createElement)("div",{className:"description"},(0,a.__)("The episode image should be square to display properly in podcasting apps and directories, and should be at least 300x300px in size.","seriously-simple-podcasting"))),(0,t.createElement)("div",{className:"ssp-sidebar-field-section"},(0,t.createElement)(Te,null)))),(0,t.createElement)(n.PanelBody,null,(0,t.createElement)("h2",{className:Q()("ssp-accordion",{open:ue}),onClick:()=>me(!ue),"aria-expanded":ue},(0,a.__)("Episode Meta","seriously-simple-podcasting")),ue&&(0,t.createElement)("div",{className:"ssp-sidebar-content"},(0,t.createElement)("div",{className:"ssp-sidebar-field-section"},(0,t.createElement)("h3",null,(0,a.__)("Duration","seriously-simple-podcasting")),(0,t.createElement)(n.TextControl,{__nextHasNoMarginBottom:!0,value:C,onChange:e=>Ee("duration",e,!0)}),(0,t.createElement)("div",{className:"description"},(0,a.__)("Duration of podcast file for display (calculated automatically if possible).","seriously-simple-podcasting"))),(0,t.createElement)("div",{className:"ssp-sidebar-field-section"},(0,t.createElement)("h3",null,(0,a.__)("File Size","seriously-simple-podcasting")),(0,t.createElement)(n.TextControl,{__nextHasNoMarginBottom:!0,value:O,onChange:e=>Ee("filesize",e,!0)}),(0,t.createElement)("div",{className:"description"},(0,a.__)("Size of the podcast file for display (calculated automatically if possible).","seriously-simple-podcasting"))),(0,t.createElement)("div",{className:"ssp-sidebar-field-section"},(0,t.createElement)("h3",null,(0,a.__)("Date Recorded","seriously-simple-podcasting")),(0,t.createElement)(je,{value:P,onChange:(e,t)=>{Ee("date_recorded",e,!0),document.dispatchEvent(new CustomEvent("changedSSPGutField",{detail:{field:"date_recorded_display",value:t}}))}})),(0,t.createElement)("div",{className:"ssp-sidebar-field-section"},(0,t.createElement)(n.CheckboxControl,{label:(0,a.__)("Mark this episode as explicit.","seriously-simple-podcasting"),checked:Y,onChange:e=>Ee("explicit",e,!0)})),(0,t.createElement)("div",{className:"ssp-sidebar-field-section"},(0,t.createElement)(n.CheckboxControl,{label:(0,a.__)("Block this episode from appearing in the iTunes & Google Play podcast libraries.","seriously-simple-podcasting"),checked:B,onChange:e=>Ee("block",e,!0)})))),l&&(0,t.createElement)(n.PanelBody,null,(0,t.createElement)("h2",{className:Q()("ssp-accordion",{open:ge}),onClick:()=>Me(!ge),"aria-expanded":ge},(0,a.__)("ITunes","seriously-simple-podcasting")),ge&&(0,t.createElement)("div",{className:"ssp-sidebar-content"},(0,t.createElement)("div",{className:"ssp-sidebar-field-section"},(0,t.createElement)("h3",null,(0,a.__)("iTunes Episode Number","seriously-simple-podcasting")),(0,t.createElement)(n.TextControl,{__nextHasNoMarginBottom:!0,value:X,type:"number",onChange:e=>Ee("itunes_episode_number",e,!0)}),(0,t.createElement)("div",{className:"description"},(0,a.__)("The iTunes episode number. Leave blank if none.","seriously-simple-podcasting"))),(0,t.createElement)("div",{className:"ssp-sidebar-field-section"},(0,t.createElement)("h3",null,(0,a.__)("iTunes Episode Title (Exclude Your Podcast / Show Number)","seriously-simple-podcasting")),(0,t.createElement)(n.TextControl,{__nextHasNoMarginBottom:!0,value:q,onChange:e=>Ee("itunes_title",e,!0)}),(0,t.createElement)("div",{className:"description"},(0,a.__)("The iTunes Episode Title. NO Podcast / Show Number Should Be Included.","seriously-simple-podcasting"))),(0,t.createElement)("div",{className:"ssp-sidebar-field-section"},(0,t.createElement)("h3",null,(0,a.__)("iTunes Season Number","seriously-simple-podcasting")),(0,t.createElement)(n.TextControl,{__nextHasNoMarginBottom:!0,value:ee,type:"number",onChange:e=>Ee("itunes_season_number",e,!0)}),(0,t.createElement)("div",{className:"description"},(0,a.__)("The iTunes Season Number. Leave Blank If None.","seriously-simple-podcasting"))),(0,t.createElement)("div",{className:"ssp-sidebar-field-section"},(0,t.createElement)("h3",null,(0,a.__)("iTunes Episode Type","seriously-simple-podcasting")),(0,t.createElement)(n.SelectControl,{value:se,options:[{label:(0,a.__)("Please Select","seriously-simple-podcasting"),value:""},{label:(0,a.__)("Full: For Normal Episodes","seriously-simple-podcasting"),value:"full"},{label:(0,a.__)("Trailer: Promote an Upcoming Show","seriously-simple-podcasting"),value:"trailer"},{label:(0,a.__)("Bonus: For Extra Content Related To a Show","seriously-simple-podcasting"),value:"bonus"}],onChange:e=>Ee("itunes_episode_type",e,!0)})))),le&&(0,t.createElement)(n.PanelBody,null,(0,t.createElement)("h2",{className:Q()("ssp-accordion",{open:ie}),onClick:()=>ne(!ie),"aria-expanded":ie},(0,a.__)("Sync Status","seriously-simple-podcasting")),ie&&(0,t.createElement)(fe,{syncStatus:le})),ye)}}),(0,o.registerPlugin)("ssp-sidebar-panel",{render:()=>{const e=(0,he.useSelect)((e=>e("core/editor")));if(!sspAdmin.sspPostTypes.includes(e.getCurrentPostType()))return;const[s,l]=(0,t.useState)(!0),o=(0,he.useSelect)((e=>e("core/editor").isSavingPost()),[]),i=(0,t.useRef)(o),r=i.current&&!o;i.current=o;const[c,d]=(0,t.useState)(0);(0,t.useEffect)((()=>{r&&d((e=>e+1))}),[r]);const p=e.getEditedPostAttribute("meta");if(!p)return;const u=!!p.audio_file,{openGeneralSidebar:m}=(0,he.useDispatch)("core/edit-post");return(0,t.createElement)(De.PluginPostStatusInfo,null,(0,t.createElement)("div",{className:"ssp-sidebar-panel"},(0,t.createElement)("h2",{className:Q()("ssp-accordion",{open:s}),onClick:()=>l(!s),"aria-expanded":s},(0,a.__)("Seriously Simple Podcasting","seriously-simple-podcasting"),(0,t.createElement)("span",null,(0,t.createElement)("svg",{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",className:"components-panel__arrow","aria-hidden":"true",focusable:"false"},(0,t.createElement)("path",{d:"M6.5 12.4L12 8l5.5 4.4-.9 1.2L12 10l-4.5 3.6-1-1.2z"})))),s&&(0,t.createElement)("div",{className:"ssp-sidebar-content"},u&&(0,t.createElement)("div",{className:"ssp-file-info uploaded"},(0,t.createElement)("img",{src:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIKCSBmaWxsPSJub25lIgoJIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+Cgk8cGF0aAoJCWQ9Ik03LjUgMTAuNjI1TDkuMzc1IDEyLjVMMTIuNSA4LjEyNU0xNy41IDEwQzE3LjUgMTAuOTg0OSAxNy4zMDYgMTEuOTYwMiAxNi45MjkxIDEyLjg3MDFDMTYuNTUyMiAxMy43ODAxIDE1Ljk5OTcgMTQuNjA2OSAxNS4zMDMzIDE1LjMwMzNDMTQuNjA2OSAxNS45OTk3IDEzLjc4MDEgMTYuNTUyMiAxMi44NzAxIDE2LjkyOTFDMTEuOTYwMiAxNy4zMDYgMTAuOTg0OSAxNy41IDEwIDE3LjVDOS4wMTUwOSAxNy41IDguMDM5ODIgMTcuMzA2IDcuMTI5ODcgMTYuOTI5MUM2LjIxOTkzIDE2LjU1MjIgNS4zOTMxNCAxNS45OTk3IDQuNjk2NyAxNS4zMDMzQzQuMDAwMjYgMTQuNjA2OSAzLjQ0NzgxIDEzLjc4MDEgMy4wNzA5IDEyLjg3MDFDMi42OTM5OSAxMS45NjAyIDIuNSAxMC45ODQ5IDIuNSAxMEMyLjUgOC4wMTA4OCAzLjI5MDE4IDYuMTAzMjIgNC42OTY3IDQuNjk2N0M2LjEwMzIyIDMuMjkwMTggOC4wMTA4OCAyLjUgMTAgMi41QzExLjk4OTEgMi41IDEzLjg5NjggMy4yOTAxOCAxNS4zMDMzIDQuNjk2N0MxNi43MDk4IDYuMTAzMjIgMTcuNSA4LjAxMDg4IDE3LjUgMTBaIgoJCXN0cm9rZT0iIzEwQjk4MSIgc3Ryb2tlLXdpZHRoPSIxLjUiCgkJc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgoJCXN0cm9rZS1saW5lam9pbj0icm91bmQiLz4KPC9zdmc+Cg==",className:"ssp-file-upload-status",alt:(0,a.__)("Episode file uploaded","seriously-simple-podcasting")}),(0,t.createElement)("span",null,(0,a.__)("Episode file uploaded","seriously-simple-podcasting"))),!u&&(0,t.createElement)("div",{className:"ssp-file-info not-uploaded"},(0,t.createElement)("img",{src:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMjAiIHZpZXdCb3g9IjAgMCAyMCAyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTkuMzc1IDkuMzc1TDkuNDA5MTcgOS4zNTgzM0M5LjUxNjAyIDkuMzA0OTUgOS42MzU5NCA5LjI4MzMgOS43NTQ3MiA5LjI5NTk2QzkuODczNSA5LjMwODYyIDkuOTg2MTYgOS4zNTUwNSAxMC4wNzk0IDkuNDI5NzZDMTAuMTcyNiA5LjUwNDQ2IDEwLjI0MjQgOS42MDQzMiAxMC4yODA2IDkuNzE3NDlDMTAuMzE4OSA5LjgzMDY2IDEwLjMyMzggOS45NTI0MiAxMC4yOTUgMTAuMDY4M0w5LjcwNSAxMi40MzE3QzkuNjc1OTUgMTIuNTQ3NiA5LjY4MDc4IDEyLjY2OTUgOS43MTg5MSAxMi43ODI4QzkuNzU3MDQgMTIuODk2MSA5LjgyNjg3IDEyLjk5NjEgOS45MjAxMSAxMy4wNzFDMTAuMDEzNCAxMy4xNDU4IDEwLjEyNjEgMTMuMTkyMyAxMC4yNDUgMTMuMjA1QzEwLjM2MzkgMTMuMjE3NyAxMC40ODM5IDEzLjE5NiAxMC41OTA4IDEzLjE0MjVMMTAuNjI1IDEzLjEyNU0xNy41IDEwQzE3LjUgMTAuOTg0OSAxNy4zMDYgMTEuOTYwMiAxNi45MjkxIDEyLjg3MDFDMTYuNTUyMiAxMy43ODAxIDE1Ljk5OTcgMTQuNjA2OSAxNS4zMDMzIDE1LjMwMzNDMTQuNjA2OSAxNS45OTk3IDEzLjc4MDEgMTYuNTUyMiAxMi44NzAxIDE2LjkyOTFDMTEuOTYwMiAxNy4zMDYgMTAuOTg0OSAxNy41IDEwIDE3LjVDOS4wMTUwOSAxNy41IDguMDM5ODIgMTcuMzA2IDcuMTI5ODcgMTYuOTI5MUM2LjIxOTkzIDE2LjU1MjIgNS4zOTMxNCAxNS45OTk3IDQuNjk2NyAxNS4zMDMzQzQuMDAwMjYgMTQuNjA2OSAzLjQ0NzgxIDEzLjc4MDEgMy4wNzA5IDEyLjg3MDFDMi42OTM5OSAxMS45NjAyIDIuNSAxMC45ODQ5IDIuNSAxMEMyLjUgOC4wMTA4OCAzLjI5MDE4IDYuMTAzMjIgNC42OTY3IDQuNjk2N0M2LjEwMzIyIDMuMjkwMTggOC4wMTA4OCAyLjUgMTAgMi41QzExLjk4OTEgMi41IDEzLjg5NjggMy4yOTAxOCAxNS4zMDMzIDQuNjk2N0MxNi43MDk4IDYuMTAzMjIgMTcuNSA4LjAxMDg4IDE3LjUgMTBaTTEwIDYuODc1SDEwLjAwNjdWNi44ODE2N0gxMFY2Ljg3NVoiIHN0cm9rZT0iI0Y0M0Y1RSIgc3Ryb2tlLXdpZHRoPSIxLjUiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIvPgo8L3N2Zz4K",className:"ssp-file-upload-status",alt:(0,a.__)("Episode file missing","seriously-simple-podcasting")}),(0,t.createElement)("span",null,(0,a.__)("Episode file missing","seriously-simple-podcasting"))),(0,t.createElement)(n.Button,{className:"ssp-open-meta-btn",onClick:()=>{m("ssp-episode-meta-sidebar/ssp-episode-meta-sidebar")}},(0,a.__)("Manage your Episode","seriously-simple-podcasting")))))}})}()}();